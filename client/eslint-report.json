[{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\__tests__\\utils\\validation.test.js","messages":[{"ruleId":"no-script-url","severity":1,"message":"Script URL is a form of eval.","line":95,"column":25,"nodeType":"Literal","messageId":"unexpectedScriptURL","endLine":95,"endColumn":46}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Validation utility tests\r\n */\r\n\r\nimport { isValidEmail, validatePassword, validateUsername, isValidURL, validateForm } from '../../utils/validation';\r\n\r\ndescribe('Validation Utilities', () => {\r\n  describe('isValidEmail', () => {\r\n    it('should validate correct email addresses', () => {\r\n      expect(isValidEmail('test@example.com')).toBe(true);\r\n      expect(isValidEmail('user.name@domain.co.uk')).toBe(true);\r\n    });\r\n\r\n    it('should reject invalid email addresses', () => {\r\n      expect(isValidEmail('invalid')).toBe(false);\r\n      expect(isValidEmail('@example.com')).toBe(false);\r\n      expect(isValidEmail('test@')).toBe(false);\r\n      expect(isValidEmail('')).toBe(false);\r\n      expect(isValidEmail(null)).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe('validatePassword', () => {\r\n    it('should validate strong passwords', () => {\r\n      const result = validatePassword('StrongPass123!');\r\n      expect(result.isValid).toBe(true);\r\n      expect(result.errors).toHaveLength(0);\r\n    });\r\n\r\n    it('should reject passwords that are too short', () => {\r\n      const result = validatePassword('Short1!');\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Password must be at least 8 characters long');\r\n    });\r\n\r\n    it('should reject passwords without uppercase', () => {\r\n      const result = validatePassword('lowercase123!');\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Password must contain at least one uppercase letter');\r\n    });\r\n\r\n    it('should reject passwords without lowercase', () => {\r\n      const result = validatePassword('UPPERCASE123!');\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Password must contain at least one lowercase letter');\r\n    });\r\n\r\n    it('should reject passwords without numbers', () => {\r\n      const result = validatePassword('NoNumbers!');\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Password must contain at least one number');\r\n    });\r\n\r\n    it('should reject passwords without special characters', () => {\r\n      const result = validatePassword('NoSpecial123');\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Password must contain at least one special character');\r\n    });\r\n  });\r\n\r\n  describe('validateUsername', () => {\r\n    it('should validate correct usernames', () => {\r\n      const result = validateUsername('validuser123');\r\n      expect(result.isValid).toBe(true);\r\n      expect(result.errors).toHaveLength(0);\r\n    });\r\n\r\n    it('should reject usernames that are too short', () => {\r\n      const result = validateUsername('ab');\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Username must be at least 3 characters long');\r\n    });\r\n\r\n    it('should reject usernames that are too long', () => {\r\n      const result = validateUsername('a'.repeat(31));\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Username must not exceed 30 characters');\r\n    });\r\n\r\n    it('should reject usernames with invalid characters', () => {\r\n      const result = validateUsername('user-name');\r\n      expect(result.isValid).toBe(false);\r\n      expect(result.errors).toContain('Username can only contain letters, numbers, and underscores');\r\n    });\r\n  });\r\n\r\n  describe('isValidURL', () => {\r\n    it('should validate correct URLs', () => {\r\n      expect(isValidURL('https://example.com')).toBe(true);\r\n      expect(isValidURL('http://example.com')).toBe(true);\r\n    });\r\n\r\n    it('should reject invalid URLs', () => {\r\n      expect(isValidURL('not-a-url')).toBe(false);\r\n      expect(isValidURL('javascript:alert(1)')).toBe(false);\r\n      expect(isValidURL('')).toBe(false);\r\n      expect(isValidURL(null)).toBe(false);\r\n    });\r\n  });\r\n\r\n  describe('validateForm', () => {\r\n    it('should validate form with correct data', () => {\r\n      const formData = {\r\n        email: 'test@example.com',\r\n        password: 'StrongPass123!',\r\n        username: 'testuser'\r\n      };\r\n\r\n      const rules = {\r\n        email: { type: 'email', required: true },\r\n        password: { type: 'password', required: true },\r\n        username: { type: 'username', required: true }\r\n      };\r\n\r\n      const result = validateForm(formData, rules);\r\n      expect(result.isValid).toBe(true);\r\n      expect(Object.keys(result.errors)).toHaveLength(0);\r\n    });\r\n\r\n    it('should return errors for invalid form data', () => {\r\n      const formData = {\r\n        email: 'invalid-email',\r\n        password: 'weak',\r\n        username: 'ab'\r\n      };\r\n\r\n      const rules = {\r\n        email: { type: 'email', required: true },\r\n        password: { type: 'password', required: true },\r\n        username: { type: 'username', required: true }\r\n      };\r\n\r\n      const result = validateForm(formData, rules);\r\n      expect(result.isValid).toBe(false);\r\n      expect(Object.keys(result.errors).length).toBeGreaterThan(0);\r\n    });\r\n  });\r\n});\r\n\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\admin\\AdminDashboard.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\admin\\AdminLayout.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Badge' is defined but never used.","line":13,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":8}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React from 'react';\r\nimport { \r\n  Box, \r\n  Drawer, \r\n  List, \r\n  ListItem, \r\n  ListItemIcon, \r\n  ListItemText, \r\n  AppBar, \r\n  Toolbar, \r\n  Typography,\r\n  Divider,\r\n  Badge\r\n} from '@mui/material';\r\nimport {\r\n  Dashboard as DashboardIcon,\r\n  People as PeopleIcon,\r\n  Security as SecurityIcon,\r\n  Settings as SettingsIcon,\r\n  Analytics as AnalyticsIcon,\r\n  ExitToApp as ExitIcon\r\n} from '@mui/icons-material';\r\nimport { useNavigate, useLocation, Outlet } from 'react-router-dom';\r\nimport { useAuth } from '../../hooks/auth';\r\nimport logger from '../../utils/logger';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst AdminLayout = () => {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const { user, logout } = useAuth();\r\n\r\n  const menuItems = [\r\n    { \r\n      text: 'Dashboard', \r\n      icon: <DashboardIcon />, \r\n      path: '/admin',\r\n      exact: true\r\n    },\r\n    { \r\n      text: 'User Management', \r\n      icon: <PeopleIcon />, \r\n      path: '/admin/users'\r\n    },\r\n    { \r\n      text: 'System Logs', \r\n      icon: <SecurityIcon />, \r\n      path: '/admin/logs'\r\n    },\r\n    { \r\n      text: 'Analytics', \r\n      icon: <AnalyticsIcon />, \r\n      path: '/admin/analytics'\r\n    },\r\n    { \r\n      text: 'Settings', \r\n      icon: <SettingsIcon />, \r\n      path: '/admin/settings'\r\n    }\r\n  ];\r\n\r\n  const isActiveRoute = (item) => {\r\n    if (item.exact) {\r\n      return location.pathname === item.path;\r\n    }\r\n    return location.pathname.startsWith(item.path);\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    try {\r\n      await logout();\r\n      navigate('/login');\r\n    } catch (error) {\r\n      logger.error('Logout failed:', error);\r\n    }\r\n  };\r\n\r\n  const handleBackToApp = () => {\r\n    navigate('/dashboard');\r\n  };\r\n\r\n  return (\r\n    <Box sx={{ display: 'flex' }}>\r\n      {/* App Bar */}\r\n      <AppBar\r\n        position=\"fixed\"\r\n        sx={{\r\n          width: `calc(100% - ${drawerWidth}px)`,\r\n          ml: `${drawerWidth}px`,\r\n          bgcolor: 'error.main'\r\n        }}\r\n      >\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" noWrap component=\"div\" sx={{ flexGrow: 1 }}>\r\n            Admin Panel\r\n          </Typography>\r\n          <Typography variant=\"body2\" sx={{ mr: 2 }}>\r\n            {user?.username}\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n\r\n      {/* Sidebar */}\r\n      <Drawer\r\n        sx={{\r\n          width: drawerWidth,\r\n          flexShrink: 0,\r\n          '& .MuiDrawer-paper': {\r\n            width: drawerWidth,\r\n            boxSizing: 'border-box',\r\n          },\r\n        }}\r\n        variant=\"permanent\"\r\n        anchor=\"left\"\r\n      >\r\n        <Toolbar>\r\n          <Typography variant=\"h6\" sx={{ color: 'error.main', fontWeight: 'bold' }}>\r\n            CodeCollabProj Admin\r\n          </Typography>\r\n        </Toolbar>\r\n        <Divider />\r\n        \r\n        <List>\r\n          {menuItems.map((item) => (\r\n            <ListItem\r\n              key={item.text}\r\n              button\r\n              selected={isActiveRoute(item)}\r\n              onClick={() => navigate(item.path)}\r\n              sx={{\r\n                '&.Mui-selected': {\r\n                  backgroundColor: 'error.light',\r\n                  color: 'white',\r\n                  '&:hover': {\r\n                    backgroundColor: 'error.main',\r\n                  }\r\n                }\r\n              }}\r\n            >\r\n              <ListItemIcon sx={{ \r\n                color: isActiveRoute(item) ? 'white' : 'inherit' \r\n              }}>\r\n                {item.icon}\r\n              </ListItemIcon>\r\n              <ListItemText primary={item.text} />\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n        \r\n        <Divider />\r\n        \r\n        <List>\r\n          <ListItem button onClick={handleBackToApp}>\r\n            <ListItemIcon>\r\n              <ExitIcon />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Back to App\" />\r\n          </ListItem>\r\n          \r\n          <ListItem button onClick={handleLogout}>\r\n            <ListItemIcon>\r\n              <ExitIcon />\r\n            </ListItemIcon>\r\n            <ListItemText primary=\"Logout\" />\r\n          </ListItem>\r\n        </List>\r\n      </Drawer>\r\n\r\n      {/* Main Content */}\r\n      <Box\r\n        component=\"main\"\r\n        sx={{\r\n          flexGrow: 1,\r\n          bgcolor: 'background.default',\r\n          minHeight: '100vh',\r\n          mt: 8 // Account for AppBar height\r\n        }}\r\n      >\r\n        <Outlet />\r\n      </Box>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AdminLayout;\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\admin\\UserManagement.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\comments\\Comments.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\dashboard\\Dashboard.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\layout\\NotFound.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\projects\\ProjectDetail.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'isAuthenticated' is assigned a value but never used.","line":46,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":46,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  Box,\r\n  Grid,\r\n  Chip,\r\n  Button,\r\n  Divider,\r\n  TextField,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemAvatar,\r\n  Avatar,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  Link,\r\n  Alert,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport {\r\n  Edit as EditIcon,\r\n  Delete as DeleteIcon,\r\n  Send as SendIcon,\r\n  GitHub as GitHubIcon,\r\n  Language as LanguageIcon,\r\n  CalendarToday as CalendarIcon,\r\n  Person as PersonIcon,\r\n  Code as CodeIcon,\r\n} from '@mui/icons-material';\r\nimport { useAuth } from '../../hooks/auth';\r\nimport { useProject, useRequestCollaboration, useHandleCollaborationRequest } from '../../hooks/projects';\r\nimport { useComments, useCreateComment } from '../../hooks/comments';\r\n\r\nconst ProjectDetail = () => {\r\n  const { projectId } = useParams();\r\n  const navigate = useNavigate();\r\n  \r\n  // Auth state\r\n  const { user, isAuthenticated } = useAuth();\r\n  \r\n  // Project data\r\n  const { \r\n    data: currentProject, \r\n    isLoading: loading, \r\n    error, \r\n    refetch: refetchProject \r\n  } = useProject(projectId);\r\n  \r\n  // Comments data\r\n  const { \r\n    data: comments = [], \r\n    isLoading: commentsLoading, \r\n    error: commentsError,\r\n    refetch: refetchComments \r\n  } = useComments(projectId);\r\n  \r\n  // Mutations\r\n  const createCommentMutation = useCreateComment();\r\n  const requestCollaborationMutation = useRequestCollaboration();\r\n  const handleCollaborationMutation = useHandleCollaborationRequest();\r\n\r\n  // Local state\r\n  const [comment, setComment] = useState('');\r\n  const [showDeleteDialog, setShowDeleteDialog] = useState(false);\r\n  const [commentSuccess, setCommentSuccess] = useState(false);\r\n\r\n  // Compute collaboration status\r\n  const collaborationStatus = useMemo(() => {\r\n    if (!currentProject || !user) return null;\r\n    \r\n    console.log('üîç Checking collaboration status:', {\r\n      projectId: currentProject._id,\r\n      userId: user._id,\r\n      collaborators: currentProject.collaborators\r\n    });\r\n    \r\n    const userCollaboration = currentProject.collaborators?.find(\r\n      collab => collab.userId === user._id || collab.userId._id === user._id\r\n    );\r\n    \r\n    console.log('ü§ù User collaboration found:', userCollaboration);\r\n    return userCollaboration?.status || null;\r\n  }, [currentProject, user]);\r\n\r\n  const handleEdit = () => {\r\n    console.log('üîß Edit button clicked for project:', projectId);\r\n    console.log('üë§ Current user:', user);\r\n    console.log('üëë Is owner:', isOwner);\r\n    navigate(`/projects/${projectId}/edit`);\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    setShowDeleteDialog(true);\r\n  };\r\n\r\n  const confirmDelete = () => {\r\n    // TODO: Implement project deletion\r\n    // dispatch(deleteProject(projectId));\r\n    setShowDeleteDialog(false);\r\n    navigate('/projects');\r\n  };\r\n\r\n  const handleCollaborate = async () => {\r\n    if (!user) {\r\n      alert('Please log in to request collaboration');\r\n      return;\r\n    }\r\n\r\n    // Check if user is already a collaborator\r\n    const isAlreadyCollaborator = currentProject.collaborators?.some(\r\n      collab => (collab.userId === user._id || collab.userId._id === user._id) && \r\n                (collab.status === 'accepted' || collab.status === 'pending')\r\n    );\r\n\r\n    if (isAlreadyCollaborator) {\r\n      alert('You have already requested collaboration or are already a collaborator');\r\n      return;\r\n    }\r\n\r\n    requestCollaborationMutation.mutate(projectId, {\r\n      onSuccess: (result) => {\r\n        console.log('‚úÖ Collaboration request sent:', result);\r\n        alert('Collaboration request sent successfully!');\r\n        // TanStack Query will automatically refetch the project data\r\n        refetchProject();\r\n      },\r\n      onError: (error) => {\r\n        console.error('‚ùå Error requesting collaboration:', error);\r\n        alert(error?.response?.data?.message || error?.message || 'Failed to request collaboration');\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleCollaborationResponse = async (userId, status) => {\r\n    handleCollaborationMutation.mutate(\r\n      { projectId, userId, status },\r\n      {\r\n        onSuccess: (result) => {\r\n          console.log('‚úÖ Collaboration request handled:', result);\r\n          alert(`Collaboration request ${status} successfully!`);\r\n          // TanStack Query will automatically refetch the project data\r\n          refetchProject();\r\n        },\r\n        onError: (error) => {\r\n          console.error('‚ùå Error handling collaboration request:', error);\r\n          alert(error?.response?.data?.message || error?.message || 'Failed to handle collaboration request');\r\n        },\r\n      }\r\n    );\r\n  };\r\n\r\n  const handleCommentSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (comment.trim()) {\r\n      createCommentMutation.mutate(\r\n        { projectId, content: comment },\r\n        {\r\n          onSuccess: (result) => {\r\n            console.log('‚úÖ Comment created successfully:', result);\r\n            setComment('');\r\n            setCommentSuccess(true);\r\n            setTimeout(() => setCommentSuccess(false), 3000);\r\n            // TanStack Query will automatically refetch comments\r\n            refetchComments();\r\n          },\r\n          onError: (error) => {\r\n            console.error('‚ùå Error creating comment:', error);\r\n          },\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '300px' }}>\r\n          <CircularProgress />\r\n          <Typography variant=\"h6\" sx={{ ml: 2 }}>\r\n            Loading project details...\r\n          </Typography>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    // Ensure we never render an object as a React child\r\n    const errorMessage = typeof error === 'object' \r\n      ? error?.response?.data?.message || error?.message || JSON.stringify(error)\r\n      : String(error);\r\n    \r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Error Loading Project\r\n          </Typography>\r\n          {errorMessage}\r\n        </Alert>\r\n        <Button variant=\"contained\" onClick={() => refetchProject()}>\r\n          Try Again\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (!currentProject) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n        <Alert severity=\"warning\" sx={{ mb: 3 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Project Not Found\r\n          </Typography>\r\n          The project you're looking for doesn't exist or has been removed.\r\n        </Alert>\r\n        <Button variant=\"contained\" onClick={() => navigate('/projects')}>\r\n          Back to Projects\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Additional safety check to ensure currentProject is valid\r\n  if (typeof currentProject !== 'object' || currentProject === null) {\r\n    return (\r\n      <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Invalid Project Data\r\n          </Typography>\r\n          The project data is corrupted or invalid.\r\n        </Alert>\r\n        <Button variant=\"contained\" onClick={() => refetchProject()}>\r\n          Reload Project\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Safety check for missing owner data\r\n  if (!currentProject.owner) {\r\n    console.warn('Project owner data is missing for project:', currentProject._id);\r\n  }\r\n\r\n  const isOwner = user?._id === currentProject.owner?._id;\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n      {/* Page Title */}\r\n      <Box sx={{ mb: 4 }}>\r\n        <Typography variant=\"h3\" component=\"h1\" gutterBottom>\r\n          Project Details\r\n        </Typography>\r\n        <Typography variant=\"body1\" color=\"text.secondary\">\r\n          View and manage project information\r\n        </Typography>\r\n      </Box>\r\n\r\n      <Grid container spacing={3}>\r\n        {/* Project Details */}\r\n        <Grid item xs={12}>\r\n          <Paper sx={{ p: 3 }}>\r\n            <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start' }}>\r\n              <Box>\r\n                <Typography variant=\"h4\" gutterBottom>\r\n                  {typeof currentProject.title === 'string' ? currentProject.title : 'Untitled Project'}\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\r\n                  <Chip\r\n                    label={typeof currentProject.status === 'string' ? currentProject.status : 'Unknown'}\r\n                    color={\r\n                      currentProject.status === 'completed'\r\n                        ? 'success'\r\n                        : currentProject.status === 'in_progress'\r\n                        ? 'primary'\r\n                        : 'default'\r\n                    }\r\n                  />\r\n                  <Chip\r\n                    label={`Owner: ${currentProject.owner?.username || 'Unknown'}`}\r\n                    variant=\"outlined\"\r\n                  />\r\n                </Box>\r\n              </Box>\r\n              {isOwner ? (\r\n                <Box>\r\n                  <IconButton onClick={handleEdit} color=\"primary\">\r\n                    <EditIcon />\r\n                  </IconButton>\r\n                  <IconButton onClick={handleDelete} color=\"error\">\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Box>\r\n              ) : (\r\n                <Box>\r\n                  {!user ? (\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      color=\"primary\"\r\n                      onClick={() => navigate('/login')}\r\n                    >\r\n                      Login to Collaborate\r\n                    </Button>\r\n                  ) : collaborationStatus === 'pending' ? (\r\n                    <Button\r\n                      variant=\"outlined\"\r\n                      color=\"warning\"\r\n                      disabled\r\n                    >\r\n                      Request Pending\r\n                    </Button>\r\n                  ) : collaborationStatus === 'accepted' ? (\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"success\"\r\n                      disabled\r\n                    >\r\n                      Collaborator\r\n                    </Button>\r\n                  ) : (\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                      onClick={handleCollaborate}\r\n                      disabled={requestCollaborationMutation.isPending}\r\n                    >\r\n                      {requestCollaborationMutation.isPending ? 'Sending...' : 'Request Collaboration'}\r\n                    </Button>\r\n                  )}\r\n                </Box>\r\n              )}\r\n            </Box>\r\n\r\n            <Typography variant=\"body1\" paragraph>\r\n              {typeof currentProject.description === 'string' ? currentProject.description : 'No description available.'}\r\n            </Typography>\r\n\r\n            {/* Project Metadata */}\r\n            <Box sx={{ mb: 3 }}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Project Information\r\n              </Typography>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                    <CalendarIcon sx={{ mr: 1, fontSize: 20 }} />\r\n                    <Typography variant=\"body2\">\r\n                      <strong>Created:</strong> {new Date(currentProject.createdAt).toLocaleDateString()}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                    <CalendarIcon sx={{ mr: 1, fontSize: 20 }} />\r\n                    <Typography variant=\"body2\">\r\n                      <strong>Updated:</strong> {new Date(currentProject.updatedAt).toLocaleDateString()}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                    <PersonIcon sx={{ mr: 1, fontSize: 20 }} />\r\n                    <Typography variant=\"body2\">\r\n                      <strong>Collaborators:</strong> {currentProject.collaborators?.length || 0}\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs={12} sm={6}>\r\n                  {currentProject.githubUrl && (\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                      <GitHubIcon sx={{ mr: 1, fontSize: 20 }} />\r\n                      <Link href={currentProject.githubUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <Typography variant=\"body2\">GitHub Repository</Typography>\r\n                      </Link>\r\n                    </Box>\r\n                  )}\r\n                  {currentProject.liveUrl && (\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                      <LanguageIcon sx={{ mr: 1, fontSize: 20 }} />\r\n                      <Link href={currentProject.liveUrl} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <Typography variant=\"body2\">Live Demo</Typography>\r\n                      </Link>\r\n                    </Box>\r\n                  )}\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n\r\n            {/* Technologies */}\r\n            {currentProject.technologies && currentProject.technologies.length > 0 && (\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  <CodeIcon sx={{ mr: 1, verticalAlign: 'middle' }} />\r\n                  Technologies\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                  {currentProject.technologies.map((tech) => (\r\n                    <Chip key={tech} label={tech} color=\"primary\" variant=\"outlined\" />\r\n                  ))}\r\n                </Box>\r\n              </Box>\r\n            )}\r\n\r\n            {/* Project Incentives - Simple Indicator */}\r\n            {currentProject.incentives && currentProject.incentives.enabled && (\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom color=\"success.main\">\r\n                  üí∞ Project Incentives Available\r\n                </Typography>\r\n                <Paper sx={{ p: 2, bgcolor: 'success.light', color: 'success.contrastText' }}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>\r\n                    <Typography variant=\"h6\" sx={{ mr: 1 }}>\r\n                      üéÅ\r\n                    </Typography>\r\n                    <Typography variant=\"h6\">\r\n                      Incentives Available\r\n                    </Typography>\r\n                  </Box>\r\n                  \r\n                  <Typography variant=\"body1\" sx={{ mb: 1 }}>\r\n                    This project offers incentives to contributors. Details will be discussed privately with accepted collaborators.\r\n                  </Typography>\r\n                  \r\n                  <Typography variant=\"body2\" sx={{ fontStyle: 'italic' }}>\r\n                    üí¨ Contact the project owner for more information about available rewards.\r\n                  </Typography>\r\n                </Paper>\r\n              </Box>\r\n            )}\r\n\r\n            {/* Required Skills */}\r\n            {currentProject.requiredSkills && currentProject.requiredSkills.length > 0 && (\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Required Skills\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                  {currentProject.requiredSkills.map((skill) => (\r\n                    <Chip key={skill} label={skill} />\r\n                  ))}\r\n                </Box>\r\n              </Box>\r\n            )}\r\n\r\n            {/* Tags */}\r\n            {currentProject.tags && currentProject.tags.length > 0 && (\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Tags\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                  {currentProject.tags.map((tag) => (\r\n                    <Chip key={tag} label={tag} variant=\"outlined\" />\r\n                  ))}\r\n                </Box>\r\n              </Box>\r\n            )}\r\n\r\n            {/* Resources */}\r\n            {currentProject.resources && currentProject.resources.length > 0 && (\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Resources\r\n                </Typography>\r\n                <List>\r\n                  {currentProject.resources.map((resource) => (\r\n                    <ListItem key={resource._id}>\r\n                      <ListItemText\r\n                        primary={resource.name}\r\n                        secondary={\r\n                          <Link href={resource.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            {resource.url}\r\n                          </Link>\r\n                        }\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </Box>\r\n            )}\r\n\r\n            {/* Pending Collaboration Requests (for project owners) */}\r\n            {isOwner && currentProject.collaborators && currentProject.collaborators.filter(c => c.status === 'pending').length > 0 && (\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom color=\"warning.main\">\r\n                  Pending Collaboration Requests\r\n                </Typography>\r\n                <List>\r\n                  {currentProject.collaborators\r\n                    .filter(collaborator => collaborator.status === 'pending')\r\n                    .map((collaborator) => (\r\n                    <ListItem key={collaborator._id || collaborator.userId?._id}>\r\n                      <ListItemAvatar>\r\n                        <Avatar>{collaborator.username?.[0] || collaborator.userId?.username?.[0] || 'C'}</Avatar>\r\n                      </ListItemAvatar>\r\n                      <ListItemText\r\n                        primary={collaborator.username || collaborator.userId?.username || 'Unknown User'}\r\n                        secondary={collaborator.email || collaborator.userId?.email || 'No email'}\r\n                      />\r\n                      <Box sx={{ display: 'flex', gap: 1 }}>\r\n                        <Button\r\n                          size=\"small\"\r\n                          variant=\"contained\"\r\n                          color=\"success\"\r\n                          onClick={() => handleCollaborationResponse(\r\n                            collaborator.userId._id || collaborator.userId, \r\n                            'accepted'\r\n                          )}\r\n                          disabled={handleCollaborationMutation.isPending}\r\n                        >\r\n                          {handleCollaborationMutation.isPending ? 'Processing...' : 'Accept'}\r\n                        </Button>\r\n                        <Button\r\n                          size=\"small\"\r\n                          variant=\"outlined\"\r\n                          color=\"error\"\r\n                          onClick={() => handleCollaborationResponse(\r\n                            collaborator.userId._id || collaborator.userId, \r\n                            'rejected'\r\n                          )}\r\n                          disabled={handleCollaborationMutation.isPending}\r\n                        >\r\n                          {handleCollaborationMutation.isPending ? 'Processing...' : 'Reject'}\r\n                        </Button>\r\n                      </Box>\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </Box>\r\n            )}\r\n\r\n            {/* Collaborators */}\r\n            {currentProject.collaborators && currentProject.collaborators.filter(c => c.status === 'accepted').length > 0 && (\r\n              <Box sx={{ mb: 3 }}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Collaborators\r\n                </Typography>\r\n                <List>\r\n                  {currentProject.collaborators\r\n                    .filter(collaborator => collaborator.status === 'accepted')\r\n                    .map((collaborator) => (\r\n                    <ListItem key={collaborator._id || collaborator.userId?._id}>\r\n                      <ListItemAvatar>\r\n                        <Avatar>{collaborator.username?.[0] || collaborator.userId?.username?.[0] || 'C'}</Avatar>\r\n                      </ListItemAvatar>\r\n                      <ListItemText\r\n                        primary={collaborator.username || collaborator.userId?.username || 'Unknown User'}\r\n                        secondary={collaborator.email || collaborator.userId?.email || 'No email'}\r\n                      />\r\n                      <Chip \r\n                        label=\"Accepted\" \r\n                        color=\"success\" \r\n                        size=\"small\" \r\n                        sx={{ ml: 1 }}\r\n                      />\r\n                    </ListItem>\r\n                  ))}\r\n                </List>\r\n              </Box>\r\n            )}\r\n          </Paper>\r\n        </Grid>\r\n\r\n                    {/* Comments Section */}\r\n            <Grid item xs={12}>\r\n              <Paper sx={{ p: 3 }}>\r\n                <Typography variant=\"h5\" gutterBottom>\r\n                  Comments\r\n                </Typography>\r\n\r\n                {user && (\r\n                  <Box component=\"form\" onSubmit={handleCommentSubmit} sx={{ mb: 3 }}>\r\n                    <TextField\r\n                      fullWidth\r\n                      multiline\r\n                      rows={3}\r\n                      placeholder=\"Write a comment...\"\r\n                      value={comment}\r\n                      onChange={(e) => setComment(e.target.value)}\r\n                      sx={{ mb: 1 }}\r\n                    />\r\n                    <Button\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      endIcon={<SendIcon />}\r\n                      disabled={!comment.trim() || createCommentMutation.isPending}\r\n                    >\r\n                      {createCommentMutation.isPending ? <CircularProgress size={20} /> : 'Post Comment'}\r\n                    </Button>\r\n                  </Box>\r\n                )}\r\n\r\n                {commentSuccess && (\r\n                  <Alert severity=\"success\" sx={{ mb: 2 }}>\r\n                    Comment posted successfully!\r\n                  </Alert>\r\n                )}\r\n\r\n                {(commentsError || createCommentMutation.error) && (\r\n                  <Alert severity=\"error\" sx={{ mb: 2 }}>\r\n                    {commentsError?.response?.data?.message || \r\n                     commentsError?.message || \r\n                     createCommentMutation.error?.response?.data?.message ||\r\n                     createCommentMutation.error?.message ||\r\n                     'Error loading or posting comments'}\r\n                  </Alert>\r\n                )}\r\n\r\n                {commentsLoading ? (\r\n                  <Box sx={{ display: 'flex', justifyContent: 'center', py: 2 }}>\r\n                    <CircularProgress />\r\n                  </Box>\r\n                ) : (\r\n                  <List>\r\n                    {comments && comments.length > 0 ? (\r\n                      comments.map((comment) => (\r\n                        <React.Fragment key={comment._id}>\r\n                          <ListItem alignItems=\"flex-start\">\r\n                            <ListItemAvatar>\r\n                              <Avatar>\r\n                                {comment.userId?.username?.[0] || 'U'}\r\n                              </Avatar>\r\n                            </ListItemAvatar>\r\n                            <ListItemText\r\n                              primary={\r\n                                <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                                  <Typography component=\"span\" variant=\"subtitle2\">\r\n                                    {comment.userId?.username || 'Unknown User'}\r\n                                  </Typography>\r\n                                  <Typography component=\"span\" variant=\"caption\" color=\"text.secondary\">\r\n                                    {new Date(comment.createdAt).toLocaleDateString()}\r\n                                  </Typography>\r\n                                </Box>\r\n                              }\r\n                              secondary={comment.content}\r\n                            />\r\n                          </ListItem>\r\n                          <Divider variant=\"inset\" component=\"li\" />\r\n                        </React.Fragment>\r\n                      ))\r\n                    ) : (\r\n                      <ListItem>\r\n                        <ListItemText\r\n                          primary=\"No comments yet\"\r\n                          secondary=\"Be the first to comment on this project!\"\r\n                        />\r\n                      </ListItem>\r\n                    )}\r\n                  </List>\r\n                )}\r\n              </Paper>\r\n            </Grid>\r\n      </Grid>\r\n\r\n      {/* Delete Confirmation Dialog */}\r\n      <Dialog open={showDeleteDialog} onClose={() => setShowDeleteDialog(false)}>\r\n        <DialogTitle>Delete Project</DialogTitle>\r\n        <DialogContent>\r\n          <Typography>\r\n            Are you sure you want to delete this project? This action cannot be undone.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setShowDeleteDialog(false)}>Cancel</Button>\r\n          <Button onClick={confirmDelete} color=\"error\">\r\n            Delete\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProjectDetail; ","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\projects\\ProjectForm.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":30,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":30,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Paper,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Chip,\r\n  Autocomplete,\r\n  IconButton,\r\n  Grid,\r\n  Alert,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport { Add as AddIcon, Delete as DeleteIcon } from '@mui/icons-material';\r\nimport { useAuth } from '../../hooks/auth';\r\nimport { useProject, useCreateProject, useUpdateProject } from '../../hooks/projects';\r\n\r\nconst ProjectForm = () => {\r\n  const navigate = useNavigate();\r\n  const { projectId } = useParams();\r\n  \r\n  // Auth state\r\n  const { user, isAuthenticated } = useAuth();\r\n  \r\n  // Project data for editing\r\n  const { \r\n    data: currentProject, \r\n    isLoading: loading, \r\n    error: projectError \r\n  } = useProject(projectId, { enabled: !!projectId });\r\n  \r\n  // Mutations\r\n  const createProjectMutation = useCreateProject();\r\n  const updateProjectMutation = useUpdateProject();\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    description: '',\r\n    technologies: [],\r\n    requiredSkills: [],\r\n    tags: [],\r\n    githubUrl: '',\r\n    liveUrl: '',\r\n    resources: [{ name: '', url: '' }],\r\n    status: 'ideation',\r\n    incentives: {\r\n      enabled: false,\r\n      type: 'recognition',\r\n      description: '',\r\n      amount: 0,\r\n      currency: 'USD',\r\n      equityPercentage: 0,\r\n      customReward: ''\r\n    }\r\n  });\r\n\r\n  const [formErrors, setFormErrors] = useState({});\r\n\r\n  // Helper function for handling submission errors\r\n  const handleSubmissionError = (error) => {\r\n    console.error('‚ùå Error saving project:', error);\r\n    console.error('‚ùå Error details:', {\r\n      message: error.message,\r\n      status: error.status,\r\n      data: error.data\r\n    });\r\n    \r\n    // Better error handling with more specific messages\r\n    let errorMessage = 'Error saving project. Please try again.';\r\n    \r\n    if (error?.response?.data?.message) {\r\n      errorMessage = `Error saving project: ${error.response.data.message}`;\r\n    } else if (error?.message) {\r\n      errorMessage = `Error saving project: ${error.message}`;\r\n    } else if (error?.response?.status === 401) {\r\n      errorMessage = 'Authentication error. Please log in again.';\r\n    } else if (error?.response?.status === 403) {\r\n      errorMessage = 'You are not authorized to edit this project.';\r\n    } else if (error?.response?.status === 404) {\r\n      errorMessage = 'Project not found.';\r\n    } else if (error?.response?.status === 422) {\r\n      errorMessage = 'Invalid data. Please check your input.';\r\n    } else if (error?.response?.status >= 500) {\r\n      errorMessage = 'Server error. Please try again later.';\r\n    }\r\n    \r\n    alert(errorMessage);\r\n  };\r\n\r\n  const commonSkills = [\r\n    'JavaScript',\r\n    'Python',\r\n    'Java',\r\n    'React',\r\n    'Node.js',\r\n    'TypeScript',\r\n    'HTML',\r\n    'CSS',\r\n    'MongoDB',\r\n    'SQL',\r\n    'Git',\r\n    'Docker',\r\n  ];\r\n\r\n  // TanStack Query will automatically fetch the project when projectId exists\r\n\r\n  useEffect(() => {\r\n    if (currentProject && projectId) {\r\n      console.log('üìù Setting form data for editing:', currentProject);\r\n      console.log('üìã Current requiredSkills:', currentProject.requiredSkills);\r\n      setFormData({\r\n        title: currentProject.title || '',\r\n        description: currentProject.description || '',\r\n        technologies: currentProject.technologies || [],\r\n        requiredSkills: currentProject.requiredSkills || [],\r\n        tags: currentProject.tags || [],\r\n        githubUrl: currentProject.githubUrl || '',\r\n        liveUrl: currentProject.liveUrl || '',\r\n        resources: currentProject.resources?.length\r\n          ? currentProject.resources\r\n          : [{ name: '', url: '' }],\r\n        status: currentProject.status || 'ideation',\r\n        incentives: currentProject.incentives || {\r\n          enabled: false,\r\n          type: 'recognition',\r\n          description: '',\r\n          amount: 0,\r\n          currency: 'USD',\r\n          equityPercentage: 0,\r\n          customReward: ''\r\n        }\r\n      });\r\n    }\r\n  }, [currentProject, projectId]);\r\n\r\n  const validateForm = () => {\r\n    const errors = {};\r\n    if (!formData.title) {\r\n      errors.title = 'Title is required';\r\n    } else if (formData.title.length < 3) {\r\n      errors.title = 'Title must be at least 3 characters';\r\n    }\r\n\r\n    if (!formData.description) {\r\n      errors.description = 'Description is required';\r\n    } else if (formData.description.length < 10) {\r\n      errors.description = 'Description must be at least 10 characters';\r\n    }\r\n\r\n    // Removed required skills validation since it's not mandatory\r\n\r\n    formData.resources.forEach((resource, index) => {\r\n      if (resource.name && !resource.url) {\r\n        errors[`resource${index}Url`] = 'URL is required if name is provided';\r\n      }\r\n      if (!resource.name && resource.url) {\r\n        errors[`resource${index}Name`] = 'Name is required if URL is provided';\r\n      }\r\n    });\r\n\r\n    setFormErrors(errors);\r\n    return Object.keys(errors).length === 0;\r\n  };\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const handleSkillsChange = (event, newValue) => {\r\n    console.log('üîß Skills changed:', newValue);\r\n    setFormData({\r\n      ...formData,\r\n      requiredSkills: newValue,\r\n    });\r\n  };\r\n\r\n  const handleTagsChange = (event, newValue) => {\r\n    setFormData({\r\n      ...formData,\r\n      tags: newValue,\r\n    });\r\n  };\r\n\r\n  const handleResourceChange = (index, field, value) => {\r\n    const newResources = [...formData.resources];\r\n    newResources[index] = {\r\n      ...newResources[index],\r\n      [field]: value,\r\n    };\r\n    setFormData({\r\n      ...formData,\r\n      resources: newResources,\r\n    });\r\n  };\r\n\r\n  const addResource = () => {\r\n    setFormData({\r\n      ...formData,\r\n      resources: [...formData.resources, { name: '', url: '' }],\r\n    });\r\n  };\r\n\r\n  const removeResource = (index) => {\r\n    const newResources = formData.resources.filter((_, i) => i !== index);\r\n    setFormData({\r\n      ...formData,\r\n      resources: newResources.length ? newResources : [{ name: '', url: '' }],\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    console.log('üìù Form submission started');\r\n    console.log('üìã Form data:', formData);\r\n    console.log('üîç Project ID:', projectId);\r\n    \r\n    if (validateForm()) {\r\n      console.log('‚úÖ Form validation passed');\r\n      const filteredResources = formData.resources.filter(\r\n        (resource) => resource.name && resource.url\r\n      );\r\n\r\n      // Ensure arrays are properly formatted\r\n      const projectData = {\r\n        ...formData,\r\n        resources: filteredResources,\r\n        requiredSkills: Array.isArray(formData.requiredSkills) ? formData.requiredSkills : [],\r\n        technologies: Array.isArray(formData.technologies) ? formData.technologies : [],\r\n        tags: Array.isArray(formData.tags) ? formData.tags : [],\r\n      };\r\n\r\n      console.log('üì§ Sending project data:', projectData);\r\n      console.log('üîç Data types:', {\r\n        requiredSkills: typeof projectData.requiredSkills,\r\n        technologies: typeof projectData.technologies,\r\n        tags: typeof projectData.tags,\r\n        resources: typeof projectData.resources\r\n      });\r\n\r\n      if (projectId) {\r\n        console.log('üîÑ Updating project:', projectId, projectData);\r\n        updateProjectMutation.mutate(\r\n          { projectId, projectData },\r\n          {\r\n            onSuccess: (result) => {\r\n              console.log('‚úÖ Project updated successfully:', result);\r\n              console.log('üöÄ Navigating to projects page');\r\n              navigate('/projects');\r\n            },\r\n            onError: (error) => {\r\n              handleSubmissionError(error);\r\n            },\r\n          }\r\n        );\r\n      } else {\r\n        console.log('‚ûï Creating new project:', projectData);\r\n        createProjectMutation.mutate(\r\n          projectData,\r\n          {\r\n            onSuccess: (result) => {\r\n              console.log('‚úÖ Project created successfully:', result);\r\n              console.log('üöÄ Navigating to projects page');\r\n              navigate('/projects');\r\n            },\r\n            onError: (error) => {\r\n              handleSubmissionError(error);\r\n            },\r\n          }\r\n        );\r\n      }\r\n    } else {\r\n      console.log('‚ùå Form validation failed:', formErrors);\r\n      alert('Please fix the form errors before submitting.');\r\n    }\r\n  };\r\n\r\n  // Check authentication\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\r\n        <Alert severity=\"warning\" sx={{ mb: 3 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Authentication Required\r\n          </Typography>\r\n          You must be logged in to create or edit projects.\r\n        </Alert>\r\n        <Button variant=\"contained\" onClick={() => navigate('/login')}>\r\n          Go to Login\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Loading state for editing\r\n  if (projectId && loading) {\r\n    return (\r\n      <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '300px' }}>\r\n          <CircularProgress />\r\n          <Typography variant=\"h6\" sx={{ ml: 2 }}>\r\n            Loading project data...\r\n          </Typography>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  // Error state for editing\r\n  if (projectId && projectError) {\r\n    return (\r\n      <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\r\n        <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n          <Typography variant=\"h6\" gutterBottom>\r\n            Error Loading Project\r\n          </Typography>\r\n          {projectError?.response?.data?.message || projectError?.message || 'Failed to load project data'}\r\n        </Alert>\r\n        <Button variant=\"contained\" onClick={() => navigate('/projects')}>\r\n          Back to Projects\r\n        </Button>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"md\" sx={{ mt: 4, mb: 4 }}>\r\n      <Paper sx={{ p: 4 }}>\r\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n          {projectId ? 'Edit Project' : 'Create Project'}\r\n        </Typography>\r\n\r\n        {(createProjectMutation.error || updateProjectMutation.error) && (\r\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n            {createProjectMutation.error?.response?.data?.message || \r\n             updateProjectMutation.error?.response?.data?.message ||\r\n             createProjectMutation.error?.message || \r\n             updateProjectMutation.error?.message ||\r\n             'Error saving project. Please try again.'}\r\n          </Alert>\r\n        )}\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Project Title\"\r\n                name=\"title\"\r\n                value={formData.title}\r\n                onChange={handleChange}\r\n                error={!!formErrors.title}\r\n                helperText={formErrors.title}\r\n                required\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Description\"\r\n                name=\"description\"\r\n                multiline\r\n                rows={4}\r\n                value={formData.description}\r\n                onChange={handleChange}\r\n                error={!!formErrors.description}\r\n                helperText={formErrors.description}\r\n                required\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"GitHub URL (optional)\"\r\n                name=\"githubUrl\"\r\n                value={formData.githubUrl}\r\n                onChange={handleChange}\r\n                placeholder=\"https://github.com/username/project\"\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={6}>\r\n              <TextField\r\n                fullWidth\r\n                label=\"Live URL (optional)\"\r\n                name=\"liveUrl\"\r\n                value={formData.liveUrl}\r\n                onChange={handleChange}\r\n                placeholder=\"https://your-project.com\"\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Autocomplete\r\n                multiple\r\n                freeSolo\r\n                options={commonSkills}\r\n                value={formData.technologies}\r\n                onChange={(event, newValue) => {\r\n                  setFormData({\r\n                    ...formData,\r\n                    technologies: newValue,\r\n                  });\r\n                }}\r\n                isOptionEqualToValue={(option, value) => option === value}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    label=\"Technologies Used\"\r\n                    placeholder=\"Select or type technologies\"\r\n                  />\r\n                )}\r\n                renderTags={(value, getTagProps) =>\r\n                  value.map((option, index) => (\r\n                    <Chip\r\n                      label={option}\r\n                      {...getTagProps({ index })}\r\n                      key={option}\r\n                    />\r\n                  ))\r\n                }\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Autocomplete\r\n                multiple\r\n                freeSolo\r\n                options={commonSkills}\r\n                value={formData.requiredSkills}\r\n                onChange={handleSkillsChange}\r\n                isOptionEqualToValue={(option, value) => option === value}\r\n                renderInput={(params) => (\r\n                  <TextField\r\n                    {...params}\r\n                    label=\"Required Skills (optional)\"\r\n                    error={!!formErrors.requiredSkills}\r\n                    helperText={formErrors.requiredSkills}\r\n                  />\r\n                )}\r\n                renderTags={(value, getTagProps) =>\r\n                  value.map((option, index) => (\r\n                    <Chip\r\n                      label={option}\r\n                      {...getTagProps({ index })}\r\n                      key={option}\r\n                    />\r\n                  ))\r\n                }\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Autocomplete\r\n                multiple\r\n                freeSolo\r\n                options={[]}\r\n                value={formData.tags}\r\n                onChange={handleTagsChange}\r\n                renderInput={(params) => (\r\n                  <TextField {...params} label=\"Tags (optional)\" />\r\n                )}\r\n                renderTags={(value, getTagProps) =>\r\n                  value.map((option, index) => (\r\n                    <Chip\r\n                      label={option}\r\n                      {...getTagProps({ index })}\r\n                      key={option}\r\n                    />\r\n                  ))\r\n                }\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <FormControl fullWidth>\r\n                <InputLabel>Status</InputLabel>\r\n                <Select\r\n                  name=\"status\"\r\n                  value={formData.status}\r\n                  onChange={handleChange}\r\n                  label=\"Status\"\r\n                >\r\n                  <MenuItem value=\"ideation\">Ideation</MenuItem>\r\n                  <MenuItem value=\"in_progress\">In Progress</MenuItem>\r\n                  <MenuItem value=\"completed\">Completed</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Resources (optional)\r\n              </Typography>\r\n              {formData.resources.map((resource, index) => (\r\n                <Box key={index} sx={{ display: 'flex', gap: 2, mb: 2 }}>\r\n                  <TextField\r\n                    label=\"Resource Name\"\r\n                    value={resource.name}\r\n                    onChange={(e) =>\r\n                      handleResourceChange(index, 'name', e.target.value)\r\n                    }\r\n                    error={!!formErrors[`resource${index}Name`]}\r\n                    helperText={formErrors[`resource${index}Name`]}\r\n                    sx={{ flex: 1 }}\r\n                  />\r\n                  <TextField\r\n                    label=\"Resource URL\"\r\n                    value={resource.url}\r\n                    onChange={(e) =>\r\n                      handleResourceChange(index, 'url', e.target.value)\r\n                    }\r\n                    error={!!formErrors[`resource${index}Url`]}\r\n                    helperText={formErrors[`resource${index}Url`]}\r\n                    sx={{ flex: 2 }}\r\n                  />\r\n                  <IconButton\r\n                    onClick={() => removeResource(index)}\r\n                    disabled={formData.resources.length === 1}\r\n                  >\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </Box>\r\n              ))}\r\n              <Button\r\n                startIcon={<AddIcon />}\r\n                onClick={addResource}\r\n                sx={{ mt: 1 }}\r\n              >\r\n                Add Resource\r\n              </Button>\r\n            </Grid>\r\n\r\n            {/* Incentives Section - Simplified */}\r\n            <Grid item xs={12}>\r\n              <Typography variant=\"h6\" gutterBottom>\r\n                Project Incentives (Optional)\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                Indicate if you will offer incentives to contributors. Specific details can be discussed privately.\r\n              </Typography>\r\n              \r\n              <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                <FormControl>\r\n                  <InputLabel>Offer Incentives to Contributors</InputLabel>\r\n                  <Select\r\n                    value={formData.incentives.enabled ? 'yes' : 'no'}\r\n                    onChange={(e) => {\r\n                      setFormData({\r\n                        ...formData,\r\n                        incentives: {\r\n                          ...formData.incentives,\r\n                          enabled: e.target.value === 'yes'\r\n                        }\r\n                      });\r\n                    }}\r\n                    label=\"Offer Incentives to Contributors\"\r\n                  >\r\n                    <MenuItem value=\"no\">No</MenuItem>\r\n                    <MenuItem value=\"yes\">Yes - I will offer incentives</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Box>\r\n\r\n              {formData.incentives.enabled && (\r\n                <Box sx={{ p: 2, bgcolor: 'info.light', borderRadius: 1 }}>\r\n                  <Typography variant=\"body2\" color=\"info.contrastText\">\r\n                    üí° <strong>Note:</strong> This will show potential contributors that incentives are available. \r\n                    Specific details about rewards will be discussed privately with accepted collaborators.\r\n                  </Typography>\r\n                </Box>\r\n              )}\r\n            </Grid>\r\n\r\n            <Grid item xs={12}>\r\n              <Box sx={{ display: 'flex', gap: 2, justifyContent: 'flex-end' }}>\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  onClick={() => navigate('/projects')}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  disabled={createProjectMutation.isPending || updateProjectMutation.isPending}\r\n                >\r\n                  {(createProjectMutation.isPending || updateProjectMutation.isPending)\r\n                    ? 'Saving...'\r\n                    : projectId\r\n                    ? 'Update Project'\r\n                    : 'Create Project'}\r\n                </Button>\r\n              </Box>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </Paper>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProjectForm; ","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\projects\\ProjectList.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'navigate' is assigned a value but never used.","line":26,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":26,"endColumn":17}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useMemo } from 'react';\r\nimport {\r\n  Container,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Typography,\r\n  Button,\r\n  TextField,\r\n  Box,\r\n  Chip,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  InputAdornment,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\nimport { Search as SearchIcon } from '@mui/icons-material';\r\nimport { useNavigate, Link as RouterLink } from 'react-router-dom';\r\nimport { useProjects, useProjectSearch } from '../../hooks/projects';\r\n\r\nconst ProjectList = () => {\r\n  const navigate = useNavigate();\r\n  \r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [statusFilter, setStatusFilter] = useState('all');\r\n  const [skillFilter, setSkillFilter] = useState('');\r\n\r\n  // Build filters object for API call\r\n  const filters = useMemo(() => {\r\n    const filterObj = {};\r\n    if (statusFilter !== 'all') filterObj.status = statusFilter;\r\n    if (skillFilter) filterObj.requiredSkills = skillFilter;\r\n    return filterObj;\r\n  }, [statusFilter, skillFilter]);\r\n\r\n  // TanStack Query hooks\r\n  const { \r\n    data: projects = [], \r\n    isLoading, \r\n    error,\r\n    refetch \r\n  } = useProjects(filters);\r\n  \r\n  const { \r\n    data: searchResults = [], \r\n    isLoading: isSearching \r\n  } = useProjectSearch(searchQuery, {\r\n    enabled: searchQuery.length > 2, // Only search if query is 3+ characters\r\n  });\r\n\r\n  const handleSearch = (e) => {\r\n    setSearchQuery(e.target.value);\r\n  };\r\n\r\n  const handleStatusFilter = (e) => {\r\n    setStatusFilter(e.target.value);\r\n  };\r\n\r\n  const handleSkillFilter = (e) => {\r\n    setSkillFilter(e.target.value);\r\n  };\r\n\r\n  // Determine which projects to display\r\n  const displayProjects = searchQuery.length > 2 ? searchResults : projects;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Container sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n        <CircularProgress />\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container sx={{ mt: 4 }}>\r\n        <Alert severity=\"error\" action={\r\n          <Button color=\"inherit\" size=\"small\" onClick={() => refetch()}>\r\n            Retry\r\n          </Button>\r\n        }>\r\n          Failed to load projects: {error.message}\r\n        </Alert>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\" sx={{ mt: 4, mb: 4 }}>\r\n      {/* Search and Filter Section */}\r\n      <Box sx={{ mb: 4 }}>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} md={6}>\r\n            <TextField\r\n              fullWidth\r\n              label=\"Search Projects\"\r\n              value={searchQuery}\r\n              onChange={handleSearch}\r\n              InputProps={{\r\n                startAdornment: (\r\n                  <InputAdornment position=\"start\">\r\n                    {isSearching ? <CircularProgress size={20} /> : <SearchIcon />}\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              helperText={searchQuery.length > 0 && searchQuery.length <= 2 ? \"Type at least 3 characters to search\" : \"\"}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Status</InputLabel>\r\n              <Select\r\n                value={statusFilter}\r\n                label=\"Status\"\r\n                onChange={handleStatusFilter}\r\n              >\r\n                <MenuItem value=\"all\">All</MenuItem>\r\n                <MenuItem value=\"ideation\">Ideation</MenuItem>\r\n                <MenuItem value=\"in_progress\">In Progress</MenuItem>\r\n                <MenuItem value=\"completed\">Completed</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n          <Grid item xs={12} md={3}>\r\n            <FormControl fullWidth>\r\n              <InputLabel>Required Skill</InputLabel>\r\n              <Select\r\n                value={skillFilter}\r\n                label=\"Required Skill\"\r\n                onChange={handleSkillFilter}\r\n              >\r\n                <MenuItem value=\"\">All Skills</MenuItem>\r\n                <MenuItem value=\"javascript\">JavaScript</MenuItem>\r\n                <MenuItem value=\"python\">Python</MenuItem>\r\n                <MenuItem value=\"java\">Java</MenuItem>\r\n                <MenuItem value=\"react\">React</MenuItem>\r\n                <MenuItem value=\"node\">Node.js</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        </Grid>\r\n      </Box>\r\n\r\n      {/* Projects Grid */}\r\n      <Grid container spacing={3}>\r\n        {displayProjects?.length > 0 ? (\r\n          displayProjects.map((project) => (\r\n            <Grid item key={project._id} xs={12} sm={6} md={4}>\r\n              <Card>\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" gutterBottom>\r\n                    {project.title}\r\n                  </Typography>\r\n                  <Typography\r\n                    variant=\"body2\"\r\n                    color=\"text.secondary\"\r\n                    sx={{\r\n                      overflow: 'hidden',\r\n                      textOverflow: 'ellipsis',\r\n                      display: '-webkit-box',\r\n                      WebkitLineClamp: 3,\r\n                      WebkitBoxOrient: 'vertical',\r\n                    }}\r\n                  >\r\n                    {project.description}\r\n                  </Typography>\r\n                  <Box sx={{ mt: 2, display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                    {project.requiredSkills && project.requiredSkills.map((skill) => (\r\n                      <Chip\r\n                        key={skill}\r\n                        label={skill}\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                        variant=\"outlined\"\r\n                      />\r\n                    ))}\r\n                  </Box>\r\n                  <Box sx={{ mt: 2 }}>\r\n                    <Chip\r\n                      label={project.status}\r\n                      color={\r\n                        project.status === 'completed'\r\n                          ? 'success'\r\n                          : project.status === 'in_progress'\r\n                          ? 'primary'\r\n                          : 'default'\r\n                      }\r\n                    />\r\n                  </Box>\r\n                </CardContent>\r\n                <CardActions>\r\n                  <Button\r\n                    size=\"small\"\r\n                    color=\"primary\"\r\n                    component={RouterLink}\r\n                    to={`/projects/${project._id}`}\r\n                  >\r\n                    View Details\r\n                  </Button>\r\n                </CardActions>\r\n              </Card>\r\n            </Grid>\r\n          ))\r\n        ) : (\r\n          <Grid item xs={12}>\r\n            <Typography align=\"center\">\r\n              {searchQuery.length > 2 ? 'No projects found matching your search' : 'No projects found'}\r\n            </Typography>\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProjectList; ","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\routing\\AdminRoute.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\components\\routing\\PrivateRoute.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\config\\constants.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\config\\queryClient.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\admin\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\admin\\useAdminDashboard.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\admin\\useAdminUsers.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\auth\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\auth\\useAuth.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\auth\\useChangePassword.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\auth\\useLogin.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\auth\\useLogout.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\auth\\usePasswordReset.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\auth\\useRegister.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\auth\\useSessions.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\comments\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\comments\\useCommentMutations.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\comments\\useComments.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\projects\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\projects\\useCollaborationMutations.js","messages":[{"ruleId":"import/no-anonymous-default-export","severity":1,"message":"Assign object to a variable before exporting as module default","line":104,"column":1,"nodeType":"ExportDefaultDeclaration","endLine":109,"endColumn":3}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { projectsService } from '../../services/projectsService';\r\nimport { queryKeys } from '../../config/queryClient';\r\n\r\n/**\r\n * Hook for joining a project\r\n */\r\nexport const useJoinProject = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: projectsService.join,\r\n    onSuccess: (updatedProject, projectId) => {\r\n      // Update the project in the detail cache\r\n      queryClient.setQueryData(queryKeys.projects.detail(projectId), updatedProject);\r\n\r\n      // Update the project in any project lists\r\n      queryClient.setQueriesData({ queryKey: queryKeys.projects.lists() }, (oldProjects) => {\r\n        if (!oldProjects) return oldProjects;\r\n        return oldProjects.map(project => \r\n          project._id === projectId ? updatedProject : project\r\n        );\r\n      });\r\n\r\n      console.log('‚úÖ Successfully joined project:', updatedProject);\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to join project:', error);\r\n    },\r\n  });\r\n};\r\n\r\n/**\r\n * Hook for leaving a project\r\n */\r\nexport const useLeaveProject = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: projectsService.leave,\r\n    onSuccess: (updatedProject, projectId) => {\r\n      // Update the project in the detail cache\r\n      queryClient.setQueryData(queryKeys.projects.detail(projectId), updatedProject);\r\n\r\n      // Update the project in any project lists\r\n      queryClient.setQueriesData({ queryKey: queryKeys.projects.lists() }, (oldProjects) => {\r\n        if (!oldProjects) return oldProjects;\r\n        return oldProjects.map(project => \r\n          project._id === projectId ? updatedProject : project\r\n        );\r\n      });\r\n\r\n      console.log('‚úÖ Successfully left project:', updatedProject);\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to leave project:', error);\r\n    },\r\n  });\r\n};\r\n\r\n/**\r\n * Hook for requesting collaboration on a project\r\n */\r\nexport const useRequestCollaboration = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: projectsService.requestCollaboration,\r\n    onSuccess: (data, projectId) => {\r\n      // Invalidate the project detail to refresh collaboration requests\r\n      queryClient.invalidateQueries({ queryKey: queryKeys.projects.detail(projectId) });\r\n      \r\n      console.log('‚úÖ Collaboration request sent successfully:', data);\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to send collaboration request:', error);\r\n    },\r\n  });\r\n};\r\n\r\n/**\r\n * Hook for handling collaboration requests (approve/reject)\r\n */\r\nexport const useHandleCollaborationRequest = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: projectsService.handleCollaborationRequest,\r\n    onSuccess: (data, { projectId }) => {\r\n      // Invalidate the project detail to refresh collaboration requests\r\n      queryClient.invalidateQueries({ queryKey: queryKeys.projects.detail(projectId) });\r\n      \r\n      // Update the project in any project lists\r\n      queryClient.invalidateQueries({ queryKey: queryKeys.projects.lists() });\r\n      \r\n      console.log('‚úÖ Collaboration request handled successfully:', data);\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to handle collaboration request:', error);\r\n    },\r\n  });\r\n};\r\n\r\nexport default {\r\n  useJoinProject,\r\n  useLeaveProject,\r\n  useRequestCollaboration,\r\n  useHandleCollaborationRequest,\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\projects\\useProject.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\projects\\useProjectMutations.js","messages":[{"ruleId":"import/no-anonymous-default-export","severity":1,"message":"Assign object to a variable before exporting as module default","line":131,"column":1,"nodeType":"ExportDefaultDeclaration","endLine":135,"endColumn":3}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { projectsService } from '../../services/projectsService';\r\nimport { queryKeys, invalidateQueries } from '../../config/queryClient';\r\n\r\n/**\r\n * Hook for creating a new project\r\n */\r\nexport const useCreateProject = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: projectsService.create,\r\n    onSuccess: (newProject) => {\r\n      // Add the new project to the projects list cache\r\n      queryClient.setQueryData(queryKeys.projects.list(), (oldProjects) => {\r\n        if (!oldProjects) return [newProject];\r\n        return [newProject, ...oldProjects];\r\n      });\r\n\r\n      // Invalidate all project lists to ensure consistency\r\n      invalidateQueries.projectLists();\r\n      \r\n      console.log('‚úÖ Project created successfully:', newProject);\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to create project:', error);\r\n    },\r\n  });\r\n};\r\n\r\n/**\r\n * Hook for updating an existing project\r\n */\r\nexport const useUpdateProject = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: projectsService.update,\r\n    onMutate: async ({ projectId, projectData }) => {\r\n      // Cancel any outgoing refetches\r\n      await queryClient.cancelQueries({ queryKey: queryKeys.projects.detail(projectId) });\r\n\r\n      // Snapshot the previous value\r\n      const previousProject = queryClient.getQueryData(queryKeys.projects.detail(projectId));\r\n\r\n      // Optimistically update the project\r\n      queryClient.setQueryData(queryKeys.projects.detail(projectId), (oldProject) => ({\r\n        ...oldProject,\r\n        ...projectData,\r\n      }));\r\n\r\n      // Return a context object with the snapshotted value\r\n      return { previousProject, projectId };\r\n    },\r\n    onError: (err, variables, context) => {\r\n      // If the mutation fails, use the context returned from onMutate to roll back\r\n      if (context?.previousProject) {\r\n        queryClient.setQueryData(\r\n          queryKeys.projects.detail(context.projectId),\r\n          context.previousProject\r\n        );\r\n      }\r\n      console.error('‚ùå Failed to update project:', err);\r\n    },\r\n    onSuccess: (updatedProject, { projectId }) => {\r\n      // Update the project in the detail cache\r\n      queryClient.setQueryData(queryKeys.projects.detail(projectId), updatedProject);\r\n\r\n      // Update the project in any project lists\r\n      queryClient.setQueriesData({ queryKey: queryKeys.projects.lists() }, (oldProjects) => {\r\n        if (!oldProjects) return oldProjects;\r\n        return oldProjects.map(project => \r\n          project._id === projectId ? updatedProject : project\r\n        );\r\n      });\r\n\r\n      console.log('‚úÖ Project updated successfully:', updatedProject);\r\n    },\r\n    onSettled: (data, error, { projectId }) => {\r\n      // Always refetch after error or success\r\n      queryClient.invalidateQueries({ queryKey: queryKeys.projects.detail(projectId) });\r\n    },\r\n  });\r\n};\r\n\r\n/**\r\n * Hook for deleting a project\r\n */\r\nexport const useDeleteProject = () => {\r\n  const queryClient = useQueryClient();\r\n\r\n  return useMutation({\r\n    mutationFn: projectsService.delete,\r\n    onMutate: async (projectId) => {\r\n      // Cancel any outgoing refetches\r\n      await queryClient.cancelQueries({ queryKey: queryKeys.projects.detail(projectId) });\r\n\r\n      // Snapshot the previous value\r\n      const previousProject = queryClient.getQueryData(queryKeys.projects.detail(projectId));\r\n\r\n      // Optimistically remove the project from all lists\r\n      queryClient.setQueriesData({ queryKey: queryKeys.projects.lists() }, (oldProjects) => {\r\n        if (!oldProjects) return oldProjects;\r\n        return oldProjects.filter(project => project._id !== projectId);\r\n      });\r\n\r\n      return { previousProject, projectId };\r\n    },\r\n    onError: (err, projectId, context) => {\r\n      // If the mutation fails, add the project back to the lists\r\n      if (context?.previousProject) {\r\n        queryClient.setQueriesData({ queryKey: queryKeys.projects.lists() }, (oldProjects) => {\r\n          if (!oldProjects) return [context.previousProject];\r\n          return [context.previousProject, ...oldProjects];\r\n        });\r\n      }\r\n      console.error('‚ùå Failed to delete project:', err);\r\n    },\r\n    onSuccess: (data, projectId) => {\r\n      // Remove the project from the cache\r\n      queryClient.removeQueries({ queryKey: queryKeys.projects.detail(projectId) });\r\n      \r\n      // Invalidate project lists to ensure consistency\r\n      invalidateQueries.projectLists();\r\n      \r\n      console.log('‚úÖ Project deleted successfully');\r\n    },\r\n  });\r\n};\r\n\r\nexport default {\r\n  useCreateProject,\r\n  useUpdateProject,\r\n  useDeleteProject,\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\projects\\useProjects.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\users\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\users\\useMessaging.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'queryClient' is assigned a value but never used.","line":34,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { usersService } from '../../services/usersService';\r\nimport { queryKeys, invalidateQueries } from '../../config/queryClient';\r\n\r\n/**\r\n * Messaging hooks for user communication\r\n */\r\n\r\n// Get messages hook\r\nexport const useMessages = (type = 'inbox', options = {}) => {\r\n  return useQuery({\r\n    queryKey: queryKeys.users.messages(type),\r\n    queryFn: () => usersService.getMessages(type),\r\n    staleTime: 1 * 60 * 1000, // Consider fresh for 1 minute (messages should be fairly real-time)\r\n    gcTime: 5 * 60 * 1000, // Keep in cache for 5 minutes\r\n    ...options,\r\n  });\r\n};\r\n\r\n// Get message by ID hook\r\nexport const useMessage = (messageId, options = {}) => {\r\n  return useQuery({\r\n    queryKey: queryKeys.users.messageDetail(messageId),\r\n    queryFn: () => usersService.getMessageById(messageId),\r\n    enabled: !!messageId, // Only run if messageId exists\r\n    staleTime: 5 * 60 * 1000, // Consider fresh for 5 minutes\r\n    gcTime: 10 * 60 * 1000, // Keep in cache for 10 minutes\r\n    ...options,\r\n  });\r\n};\r\n\r\n// Send message hook\r\nexport const useSendMessage = (options = {}) => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: usersService.sendMessage,\r\n    onSuccess: (data) => {\r\n      console.log('‚úÖ Message sent successfully:', data);\r\n      \r\n      // Invalidate messages to show the new sent message\r\n      invalidateQueries.userMessages();\r\n      \r\n      // Call custom onSuccess if provided\r\n      if (options.onSuccess) {\r\n        options.onSuccess(data);\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to send message:', error);\r\n      \r\n      // Call custom onError if provided\r\n      if (options.onError) {\r\n        options.onError(error);\r\n      }\r\n    },\r\n  });\r\n};\r\n\r\n// Mark message as read hook\r\nexport const useMarkMessageAsRead = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: usersService.markMessageAsRead,\r\n    onSuccess: (data, messageId) => {\r\n      console.log('‚úÖ Message marked as read:', data);\r\n      \r\n      // Invalidate the specific message\r\n      queryClient.invalidateQueries({ \r\n        queryKey: queryKeys.users.messageDetail(messageId) \r\n      });\r\n      \r\n      // Invalidate messages list to update read status\r\n      invalidateQueries.userMessages();\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to mark message as read:', error);\r\n    },\r\n  });\r\n};\r\n\r\n// Delete message hook\r\nexport const useDeleteMessage = (options = {}) => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: usersService.deleteMessage,\r\n    onSuccess: (data, messageId) => {\r\n      console.log('‚úÖ Message deleted successfully:', messageId);\r\n      \r\n      // Remove the message from cache\r\n      queryClient.removeQueries({ \r\n        queryKey: queryKeys.users.messageDetail(messageId) \r\n      });\r\n      \r\n      // Invalidate messages list to remove the deleted message\r\n      invalidateQueries.userMessages();\r\n      \r\n      // Call custom onSuccess if provided\r\n      if (options.onSuccess) {\r\n        options.onSuccess(data, messageId);\r\n      }\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to delete message:', error);\r\n      \r\n      // Call custom onError if provided\r\n      if (options.onError) {\r\n        options.onError(error);\r\n      }\r\n    },\r\n  });\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\users\\useProfileMutations.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'queryClient' is assigned a value but never used.","line":11,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":20},{"ruleId":"no-unused-vars","severity":1,"message":"'queryClient' is assigned a value but never used.","line":32,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":32,"endColumn":20}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { usersService } from '../../services/usersService';\r\nimport { queryKeys, invalidateQueries } from '../../config/queryClient';\r\n\r\n/**\r\n * User profile mutation hooks for update, image upload operations\r\n */\r\n\r\n// Update profile hook\r\nexport const useUpdateProfile = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: usersService.updateProfile,\r\n    onSuccess: (data) => {\r\n      console.log('‚úÖ Profile updated successfully:', data);\r\n      \r\n      // Invalidate profile queries to refetch fresh data\r\n      invalidateQueries.userProfile();\r\n      \r\n      // Also invalidate auth queries since profile data might be used there\r\n      invalidateQueries.auth();\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to update profile:', error);\r\n    },\r\n  });\r\n};\r\n\r\n// Upload profile image hook\r\nexport const useUploadProfileImage = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: usersService.uploadProfileImage,\r\n    onSuccess: (data) => {\r\n      console.log('‚úÖ Profile image uploaded successfully:', data);\r\n      \r\n      // Invalidate profile queries\r\n      invalidateQueries.userProfile();\r\n      \r\n      // Also invalidate auth queries since profile image might be used there\r\n      invalidateQueries.auth();\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to upload profile image:', error);\r\n    },\r\n  });\r\n};\r\n\r\n// Toggle follow user hook\r\nexport const useToggleFollow = () => {\r\n  const queryClient = useQueryClient();\r\n  \r\n  return useMutation({\r\n    mutationFn: usersService.toggleFollow,\r\n    onSuccess: (data, userId) => {\r\n      console.log('‚úÖ Follow status toggled successfully:', data);\r\n      \r\n      // Invalidate the specific user's data\r\n      queryClient.invalidateQueries({ \r\n        queryKey: queryKeys.users.detail(userId) \r\n      });\r\n      \r\n      // Invalidate followers/following lists\r\n      queryClient.invalidateQueries({ \r\n        queryKey: queryKeys.users.followers(userId) \r\n      });\r\n      queryClient.invalidateQueries({ \r\n        queryKey: queryKeys.users.following(userId) \r\n      });\r\n      \r\n      // Invalidate current user's following list\r\n      invalidateQueries.userProfile();\r\n    },\r\n    onError: (error) => {\r\n      console.error('‚ùå Failed to toggle follow status:', error);\r\n    },\r\n  });\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\hooks\\users\\useUsers.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\Dashboard.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Avatar' is defined but never used.","line":12,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":12,"endColumn":9},{"ruleId":"no-unused-vars","severity":1,"message":"'Code' is defined but never used.","line":17,"column":15,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":19},{"ruleId":"no-unused-vars","severity":1,"message":"'isAuthenticated' is assigned a value but never used.","line":23,"column":17,"nodeType":"Identifier","messageId":"unusedVar","endLine":23,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useMemo } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Avatar,\r\n  Chip,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\nimport { Add, Code, People, CalendarToday } from '@mui/icons-material';\r\nimport { useAuth } from '../hooks/auth';\r\nimport { useProjects } from '../hooks/projects';\r\n\r\nconst Dashboard = () => {\r\n  // Auth and project data\r\n  const { user, isAuthenticated } = useAuth();\r\n  const { \r\n    data: projects = [], \r\n    isLoading: loading, \r\n    error,\r\n    refetch \r\n  } = useProjects();\r\n\r\n  // Filter projects for the current user (owned or collaborated)\r\n  const userProjects = useMemo(() => {\r\n    return projects.filter(project => {\r\n      const isOwner = project.owner?._id === user?._id;\r\n      const isCollaborator = project.collaborators?.some(collab => \r\n        collab._id === user?._id || collab.userId === user?._id || collab.userId?._id === user?._id\r\n      );\r\n      return isOwner || isCollaborator;\r\n    });\r\n  }, [projects, user]);\r\n\r\n  if (loading) {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Box sx={{ mt: 4 }}>\r\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Error Loading Dashboard\r\n            </Typography>\r\n            {error?.response?.data?.message || error?.message || 'Failed to load dashboard data'}\r\n          </Alert>\r\n          <Button variant=\"contained\" onClick={() => refetch()}>\r\n            Try Again\r\n          </Button>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ mt: 4, mb: 4 }}>\r\n        {/* Welcome Section */}\r\n        <Box sx={{ mb: 4 }}>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom>\r\n            Welcome back, {user?.username || 'User'}!\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\">\r\n            Here's what's happening with your projects today.\r\n          </Typography>\r\n        </Box>\r\n\r\n        {/* User Stats */}\r\n        <Grid container spacing={3} sx={{ mb: 4 }}>\r\n          <Grid item xs={12} sm={4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography color=\"text.secondary\" gutterBottom>\r\n                  Total Projects\r\n                </Typography>\r\n                <Typography variant=\"h4\">\r\n                  {userProjects.length}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography color=\"text.secondary\" gutterBottom>\r\n                  Active Collaborations\r\n                </Typography>\r\n                <Typography variant=\"h4\">\r\n                  {userProjects.reduce((sum, project) => \r\n                    sum + (project.collaborators?.length || 0), 0\r\n                  )}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n          <Grid item xs={12} sm={4}>\r\n            <Card>\r\n              <CardContent>\r\n                <Typography color=\"text.secondary\" gutterBottom>\r\n                  Technologies Used\r\n                </Typography>\r\n                <Typography variant=\"h4\">\r\n                  {new Set(userProjects.flatMap(p => p.technologies || [])).size}\r\n                </Typography>\r\n              </CardContent>\r\n            </Card>\r\n          </Grid>\r\n        </Grid>\r\n\r\n        {/* My Projects Section */}\r\n        <Box sx={{ mb: 4 }}>\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 3 }}>\r\n            <Typography variant=\"h5\" component=\"h2\">\r\n              My Projects\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              startIcon={<Add />}\r\n              component={RouterLink}\r\n              to=\"/projects/create\"\r\n            >\r\n              Create New Project\r\n            </Button>\r\n          </Box>\r\n\r\n          <Grid container spacing={3}>\r\n            {userProjects.map((project) => {\r\n              const isOwner = project.owner?._id === user?._id;\r\n              return (\r\n                <Grid item xs={12} sm={6} md={4} key={project._id}>\r\n                  <Card>\r\n                    <CardContent>\r\n                      <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\r\n                        <Typography variant=\"h6\" component=\"h3\" gutterBottom>\r\n                          {project.title}\r\n                        </Typography>\r\n                        <Chip \r\n                          label={isOwner ? 'Owner' : 'Collaborator'} \r\n                          size=\"small\" \r\n                          color={isOwner ? 'primary' : 'secondary'}\r\n                        />\r\n                      </Box>\r\n                      <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                        {project.description}\r\n                      </Typography>\r\n                      <Box sx={{ mb: 2 }}>\r\n                        {project.technologies && project.technologies.map((tech) => (\r\n                          <Chip\r\n                            key={tech}\r\n                            label={tech}\r\n                            size=\"small\"\r\n                            sx={{ mr: 1, mb: 1 }}\r\n                          />\r\n                        ))}\r\n                      </Box>\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, color: 'text.secondary' }}>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                          <People sx={{ fontSize: 16, mr: 0.5 }} />\r\n                          <Typography variant=\"body2\">\r\n                            {project.collaborators?.length || 0}\r\n                          </Typography>\r\n                        </Box>\r\n                        <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                          <CalendarToday sx={{ fontSize: 16, mr: 0.5 }} />\r\n                          <Typography variant=\"body2\">\r\n                            {new Date(project.createdAt).toLocaleDateString()}\r\n                          </Typography>\r\n                        </Box>\r\n                      </Box>\r\n                    </CardContent>\r\n                    <CardActions>\r\n                      <Button size=\"small\" component={RouterLink} to={`/projects/${project._id}`}>\r\n                        View Details\r\n                      </Button>\r\n                      {isOwner && (\r\n                        <Button size=\"small\" component={RouterLink} to={`/projects/${project._id}/edit`}>\r\n                          Edit\r\n                        </Button>\r\n                      )}\r\n                    </CardActions>\r\n                  </Card>\r\n                </Grid>\r\n              );\r\n            })}\r\n          </Grid>\r\n\r\n          {userProjects.length === 0 && (\r\n            <Box sx={{ textAlign: 'center', mt: 4 }}>\r\n              <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\r\n                No projects yet\r\n              </Typography>\r\n              <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 3 }}>\r\n                Start by creating your first project or joining an existing one.\r\n              </Typography>\r\n              <Button\r\n                variant=\"contained\"\r\n                startIcon={<Add />}\r\n                component={RouterLink}\r\n                to=\"/projects/create\"\r\n              >\r\n                Create Your First Project\r\n              </Button>\r\n            </Box>\r\n          )}\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Dashboard; ","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\EmailVerification.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'axios' is defined but never used.","line":13,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":13,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState, useRef } from 'react';\nimport { useParams, useNavigate, useSearchParams } from 'react-router-dom';\nimport {\n  Container,\n  Paper,\n  Typography,\n  Box,\n  Alert,\n  AlertTitle,\n  Button,\n  CircularProgress,\n} from '@mui/material';\nimport axios from 'axios';\nimport api from '../utils/api'; // Add this import\n\nconst EmailVerification = () => {\n  const { token: paramToken } = useParams();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  const [status, setStatus] = useState('verifying'); // 'verifying', 'success', 'error'\n  const [message, setMessage] = useState('');\n  const hasVerified = useRef(false); // Track if verification has already been attempted\n  const verificationPromise = useRef(null); // Store the verification promise\n\n  // Get token from either URL params or query string\n  const token = paramToken || searchParams.get('token');\n\n  useEffect(() => {\n    const verifyEmail = async () => {\n      if (!token) {\n        setStatus('error');\n        setMessage('No verification token provided');\n        return;\n      }\n\n      // If verification is already in progress, wait for it\n      if (verificationPromise.current) {\n        console.log('Verification already in progress, waiting...');\n        return verificationPromise.current;\n      }\n\n      // If already verified, don't verify again\n      if (hasVerified.current) {\n        console.log('Already verified, skipping...');\n        return;\n      }\n\n      console.log('Starting verification for token:', token);\n      hasVerified.current = true;\n\n      // Create and store the verification promise\n      verificationPromise.current = (async () => {\n        try {\n          console.log('Making verification request...');\n          const response = await api.get(`/auth/verify-email/${token}`);\n          console.log('Verification success:', response.data);\n          setStatus('success');\n          setMessage(response.data.message);\n          return response;\n        } catch (error) {\n          console.error('=== VERIFICATION ERROR DEBUG ===');\n          console.error('Full error object:', error);\n          console.error('Error message:', error.message);\n          console.error('Error response exists?', !!error.response);\n          if (error.response) {\n            console.error('Error status:', error.response.status);\n            console.error('Error data:', error.response.data);\n            console.error('Error headers:', error.response.headers);\n          }\n          console.error('Token being used:', token);\n          console.error('=== END DEBUG ===');\n          setStatus('error');\n          setMessage(error.response?.data?.message || 'Verification failed');\n          throw error;\n        }\n      })();\n\n      return verificationPromise.current;\n    };\n\n    verifyEmail();\n  }, [token]);\n\n  const getContent = () => {\n    switch (status) {\n      case 'verifying':\n        return (\n          <Box sx={{ textAlign: 'center' }}>\n            <CircularProgress sx={{ mb: 2 }} />\n            <Typography variant=\"h6\">Verifying your email...</Typography>\n          </Box>\n        );\n      \n      case 'success':\n        return (\n          <Alert severity=\"success\" sx={{ mb: 3 }}>\n            <AlertTitle>Email Verified Successfully!</AlertTitle>\n            {message}\n          </Alert>\n        );\n      \n      case 'error':\n        return (\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\n            <AlertTitle>Verification Failed</AlertTitle>\n            {message}\n          </Alert>\n        );\n      \n      default:\n        return null;\n    }\n  };\n\n  return (\n    <Container maxWidth=\"sm\">\n      <Box sx={{ mt: 8, mb: 4 }}>\n        <Paper elevation={3} sx={{ p: 4 }}>\n          <Typography variant=\"h4\" component=\"h1\" align=\"center\" gutterBottom>\n            Email Verification\n          </Typography>\n\n          {getContent()}\n\n          {(status === 'success' || status === 'error') && (\n            <Box sx={{ textAlign: 'center' }}>\n              <Button\n                onClick={() => navigate('/login')}\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"large\"\n              >\n                Go to Login\n              </Button>\n            </Box>\n          )}\n        </Paper>\n      </Box>\n    </Container>\n  );\n};\n\nexport default EmailVerification; ","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\Home.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\MemberSearch.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'IconButton' is defined but never used.","line":20,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":13},{"ruleId":"no-unused-vars","severity":1,"message":"'CircularProgress' is defined but never used.","line":25,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":19}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  Paper,\r\n  Alert,\r\n  Grid,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  Chip,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Avatar,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport { Search, Message, Visibility, FilterList } from '@mui/icons-material';\r\nimport { useAuth } from '../hooks/auth';\r\nimport { useUserSearch, useSendMessage } from '../hooks/users';\r\n\r\nconst MemberSearch = () => {\r\n  // Auth and messaging\r\n  const { user } = useAuth();\r\n  const sendMessageMutation = useSendMessage();\r\n\r\n  const [searchParams, setSearchParams] = useState({\r\n    query: '',\r\n    skills: '',\r\n    experience: '',\r\n    availability: '',\r\n    location: ''\r\n  });\r\n\r\n  const [showFilters, setShowFilters] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [messageDialog, setMessageDialog] = useState(false);\r\n  const [messageData, setMessageData] = useState({\r\n    subject: '',\r\n    content: ''\r\n  });\r\n\r\n  // Use the search hook conditionally based on whether we have a query\r\n  const hasSearchQuery = Boolean(searchParams.query || searchParams.skills || searchParams.experience || searchParams.availability || searchParams.location);\r\n  \r\n  const { \r\n    data: searchResults = [], \r\n    isLoading: searchLoading, \r\n    error: searchError,\r\n    refetch: performSearch \r\n  } = useUserSearch(searchParams, { \r\n    enabled: hasSearchQuery // Only search when we have parameters\r\n  });\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    // The search will automatically trigger due to the TanStack Query dependency\r\n    // Force a refetch to ensure latest data\r\n    performSearch();\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n    sendMessageMutation.mutate({\r\n      recipientId: selectedUser._id,\r\n      subject: messageData.subject,\r\n      content: messageData.content\r\n    }, {\r\n      onSuccess: (data) => {\r\n        console.log('‚úÖ Message sent successfully:', data);\r\n        setMessageDialog(false);\r\n        setMessageData({ subject: '', content: '' });\r\n        setSelectedUser(null);\r\n      },\r\n      onError: (error) => {\r\n        console.error('‚ùå Failed to send message:', error);\r\n      },\r\n    });\r\n  };\r\n\r\n  const handleViewProfile = (user) => {\r\n    setSelectedUser(user);\r\n  };\r\n\r\n  const handleMessageUser = (user) => {\r\n    setSelectedUser(user);\r\n    setMessageDialog(true);\r\n  };\r\n\r\n  const experienceLevels = [\r\n    { value: 'beginner', label: 'Beginner' },\r\n    { value: 'intermediate', label: 'Intermediate' },\r\n    { value: 'advanced', label: 'Advanced' },\r\n    { value: 'expert', label: 'Expert' }\r\n  ];\r\n\r\n  const availabilityOptions = [\r\n    { value: 'full-time', label: 'Full-time' },\r\n    { value: 'part-time', label: 'Part-time' },\r\n    { value: 'weekends', label: 'Weekends' },\r\n    { value: 'evenings', label: 'Evenings' },\r\n    { value: 'flexible', label: 'Flexible' }\r\n  ];\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ mt: 4, mb: 4 }}>\r\n        <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\r\n          Find Collaborators\r\n        </Typography>\r\n        <Typography variant=\"body1\" color=\"text.secondary\" align=\"center\" sx={{ mb: 4 }}>\r\n          Search for members with specific skills and experience\r\n        </Typography>\r\n\r\n        {/* Search Form */}\r\n        <Paper elevation={3} sx={{ p: 3, mb: 4 }}>\r\n          <Box component=\"form\" onSubmit={handleSearch}>\r\n            <Grid container spacing={2} alignItems=\"center\">\r\n              <Grid item xs={12} md={4}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Search by name, skills, or bio\"\r\n                  name=\"query\"\r\n                  value={searchParams.query}\r\n                  onChange={(e) => setSearchParams(prev => ({ ...prev, query: e.target.value }))}\r\n                  placeholder=\"e.g., React, Python, Full Stack\"\r\n                />\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} md={3}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Skills (comma-separated)\"\r\n                  name=\"skills\"\r\n                  value={searchParams.skills}\r\n                  onChange={(e) => setSearchParams(prev => ({ ...prev, skills: e.target.value }))}\r\n                  placeholder=\"React, Node.js, MongoDB\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={2}>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"outlined\"\r\n                  onClick={() => setShowFilters(!showFilters)}\r\n                  startIcon={<FilterList />}\r\n                >\r\n                  Filters\r\n                </Button>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} md={3}>\r\n                <Button\r\n                  fullWidth\r\n                  type=\"submit\"\r\n                  variant=\"contained\"\r\n                  disabled={searchLoading}\r\n                  startIcon={<Search />}\r\n                >\r\n                  {searchLoading ? 'Searching...' : 'Search'}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n\r\n            {/* Advanced Filters */}\r\n            {showFilters && (\r\n              <Box sx={{ mt: 3 }}>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} md={4}>\r\n                    <FormControl fullWidth>\r\n                      <InputLabel>Experience Level</InputLabel>\r\n                      <Select\r\n                        name=\"experience\"\r\n                        value={searchParams.experience}\r\n                        onChange={(e) => setSearchParams(prev => ({ ...prev, experience: e.target.value }))}\r\n                      >\r\n                        <MenuItem value=\"\">Any Experience</MenuItem>\r\n                        {experienceLevels.map(level => (\r\n                          <MenuItem key={level.value} value={level.value}>\r\n                            {level.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} md={4}>\r\n                    <FormControl fullWidth>\r\n                      <InputLabel>Availability</InputLabel>\r\n                      <Select\r\n                        name=\"availability\"\r\n                        value={searchParams.availability}\r\n                        onChange={(e) => setSearchParams(prev => ({ ...prev, availability: e.target.value }))}\r\n                      >\r\n                        <MenuItem value=\"\">Any Availability</MenuItem>\r\n                        {availabilityOptions.map(option => (\r\n                          <MenuItem key={option.value} value={option.value}>\r\n                            {option.label}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12} md={4}>\r\n                    <TextField\r\n                      fullWidth\r\n                      label=\"Location\"\r\n                      name=\"location\"\r\n                      value={searchParams.location}\r\n                      onChange={(e) => setSearchParams(prev => ({ ...prev, location: e.target.value }))}\r\n                      placeholder=\"City, Country\"\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            )}\r\n          </Box>\r\n        </Paper>\r\n\r\n        {/* Error Display */}\r\n        {searchError && (\r\n          <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n            {searchError?.response?.data?.message || searchError?.message || 'Search failed'}\r\n          </Alert>\r\n        )}\r\n\r\n        {/* Search Results */}\r\n        {searchResults.length > 0 && (\r\n          <Grid container spacing={3}>\r\n            {searchResults.map((member) => (\r\n              <Grid item xs={12} md={6} lg={4} key={member._id}>\r\n                <Card elevation={2}>\r\n                  <CardContent>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>\r\n                      <Avatar sx={{ mr: 2 }}>\r\n                        {member.firstName ? member.firstName[0] : member.username[0]}\r\n                      </Avatar>\r\n                      <Box>\r\n                        <Typography variant=\"h6\">\r\n                          {member.firstName && member.lastName \r\n                            ? `${member.firstName} ${member.lastName}`\r\n                            : member.username\r\n                          }\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" color=\"text.secondary\">\r\n                          @{member.username}\r\n                        </Typography>\r\n                      </Box>\r\n                    </Box>\r\n\r\n                    {member.bio && (\r\n                      <Typography variant=\"body2\" sx={{ mb: 2 }}>\r\n                        {member.bio}\r\n                      </Typography>\r\n                    )}\r\n\r\n                    {member.skills && member.skills.length > 0 && (\r\n                      <Box sx={{ mb: 2 }}>\r\n                        <Typography variant=\"subtitle2\" gutterBottom>\r\n                          Skills:\r\n                        </Typography>\r\n                        <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 0.5 }}>\r\n                          {member.skills.slice(0, 5).map((skill) => (\r\n                            <Chip key={skill} label={skill} size=\"small\" />\r\n                          ))}\r\n                          {member.skills.length > 5 && (\r\n                            <Chip label={`+${member.skills.length - 5} more`} size=\"small\" />\r\n                          )}\r\n                        </Box>\r\n                      </Box>\r\n                    )}\r\n\r\n                    <Box sx={{ display: 'flex', gap: 1, mb: 1 }}>\r\n                      {member.experience && (\r\n                        <Chip \r\n                          label={member.experience} \r\n                          size=\"small\" \r\n                          color=\"primary\" \r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                      {member.availability && (\r\n                        <Chip \r\n                          label={member.availability} \r\n                          size=\"small\" \r\n                          color=\"secondary\" \r\n                          variant=\"outlined\"\r\n                        />\r\n                      )}\r\n                    </Box>\r\n\r\n                    {member.location && (\r\n                      <Typography variant=\"body2\" color=\"text.secondary\">\r\n                        üìç {member.location}\r\n                      </Typography>\r\n                    )}\r\n                  </CardContent>\r\n\r\n                  <CardActions>\r\n                    <Button\r\n                      size=\"small\"\r\n                      startIcon={<Visibility />}\r\n                      onClick={() => handleViewProfile(member)}\r\n                    >\r\n                      View Profile\r\n                    </Button>\r\n                    {member._id !== user?._id && (\r\n                      <Button\r\n                        size=\"small\"\r\n                        startIcon={<Message />}\r\n                        onClick={() => handleMessageUser(member)}\r\n                      >\r\n                        Message\r\n                      </Button>\r\n                    )}\r\n                  </CardActions>\r\n                </Card>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        )}\r\n\r\n        {searchResults.length === 0 && !searchLoading && hasSearchQuery && (\r\n          <Box sx={{ textAlign: 'center', py: 4 }}>\r\n            <Typography variant=\"h6\" color=\"text.secondary\">\r\n              No members found matching your criteria\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              Try adjusting your search parameters\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n\r\n      {/* Message Dialog */}\r\n      <Dialog open={messageDialog} onClose={() => setMessageDialog(false)} maxWidth=\"sm\" fullWidth>\r\n        <DialogTitle>\r\n          Send Message to {selectedUser?.firstName && selectedUser?.lastName \r\n            ? `${selectedUser.firstName} ${selectedUser.lastName}`\r\n            : selectedUser?.username\r\n          }\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <TextField\r\n            fullWidth\r\n            label=\"Subject\"\r\n            value={messageData.subject}\r\n            onChange={(e) => setMessageData(prev => ({ ...prev, subject: e.target.value }))}\r\n            sx={{ mb: 2, mt: 1 }}\r\n          />\r\n          <TextField\r\n            fullWidth\r\n            label=\"Message\"\r\n            multiline\r\n            rows={4}\r\n            value={messageData.content}\r\n            onChange={(e) => setMessageData(prev => ({ ...prev, content: e.target.value }))}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={() => setMessageDialog(false)}>Cancel</Button>\r\n          <Button \r\n            onClick={handleSendMessage}\r\n            variant=\"contained\"\r\n            disabled={!messageData.subject.trim() || !messageData.content.trim() || sendMessageMutation.isPending}\r\n          >\r\n            {sendMessageMutation.isPending ? 'Sending...' : 'Send Message'}\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MemberSearch; ","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\Members.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\Messages.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\NotFound.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\Profile.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Avatar' is defined but never used.","line":19,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":9},{"ruleId":"no-unused-vars","severity":1,"message":"'Edit' is defined but never used.","line":22,"column":29,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":33},{"ruleId":"no-unused-vars","severity":1,"message":"'user' is assigned a value but never used.","line":28,"column":11,"nodeType":"Identifier","messageId":"unusedVar","endLine":28,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  TextField,\r\n  Button,\r\n  Box,\r\n  Paper,\r\n  Alert,\r\n  Grid,\r\n  Chip,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Switch,\r\n  FormControlLabel,\r\n  Divider,\r\n  Avatar,\r\n  CircularProgress,\r\n} from '@mui/material';\r\nimport { Add, Delete, Save, Edit } from '@mui/icons-material';\r\nimport { useAuth } from '../hooks/auth';\r\nimport { useMyProfile, useUpdateProfile } from '../hooks/users';\r\n\r\nconst Profile = () => {\r\n  // Auth and profile data\r\n  const { user, isAuthenticated } = useAuth();\r\n  const { \r\n    data: profile, \r\n    isLoading: profileLoading, \r\n    error: profileError \r\n  } = useMyProfile();\r\n  const updateProfileMutation = useUpdateProfile();\r\n\r\n  const [formData, setFormData] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    bio: '',\r\n    skills: [],\r\n    experience: 'beginner',\r\n    location: '',\r\n    timezone: '',\r\n    availability: 'flexible',\r\n    portfolioLinks: [],\r\n    socialLinks: {\r\n      github: '',\r\n      linkedin: '',\r\n      twitter: '',\r\n      website: ''\r\n    },\r\n    isProfilePublic: true\r\n  });\r\n\r\n  const [newSkill, setNewSkill] = useState('');\r\n  const [newPortfolioLink, setNewPortfolioLink] = useState({ name: '', url: '' });\r\n  const [validationError, setValidationError] = useState('');\r\n\r\n  // TanStack Query will automatically fetch profile data\r\n\r\n  useEffect(() => {\r\n    if (profile) {\r\n      setFormData({\r\n        firstName: profile.firstName || '',\r\n        lastName: profile.lastName || '',\r\n        bio: profile.bio || '',\r\n        skills: profile.skills || [],\r\n        experience: profile.experience || 'beginner',\r\n        location: profile.location || '',\r\n        timezone: profile.timezone || '',\r\n        availability: profile.availability || 'flexible',\r\n        portfolioLinks: profile.portfolioLinks || [],\r\n        socialLinks: {\r\n          github: profile.socialLinks?.github || '',\r\n          linkedin: profile.socialLinks?.linkedin || '',\r\n          twitter: profile.socialLinks?.twitter || '',\r\n          website: profile.socialLinks?.website || ''\r\n        },\r\n        isProfilePublic: profile.isProfilePublic !== undefined ? profile.isProfilePublic : true\r\n      });\r\n    }\r\n  }, [profile]);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    if (name.includes('.')) {\r\n      const [parent, child] = name.split('.');\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [parent]: {\r\n          ...prev[parent],\r\n          [child]: value\r\n        }\r\n      }));\r\n    } else {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        [name]: value\r\n      }));\r\n    }\r\n    setValidationError('');\r\n  };\r\n\r\n  const handleAddSkill = () => {\r\n    if (newSkill.trim() && !formData.skills.includes(newSkill.trim())) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        skills: [...prev.skills, newSkill.trim()]\r\n      }));\r\n      setNewSkill('');\r\n    }\r\n  };\r\n\r\n  const handleRemoveSkill = (skillToRemove) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      skills: prev.skills.filter(skill => skill !== skillToRemove)\r\n    }));\r\n  };\r\n\r\n  const handleAddPortfolioLink = () => {\r\n    if (newPortfolioLink.name.trim() && newPortfolioLink.url.trim()) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        portfolioLinks: [...prev.portfolioLinks, { ...newPortfolioLink }]\r\n      }));\r\n      setNewPortfolioLink({ name: '', url: '' });\r\n    }\r\n  };\r\n\r\n  const handleRemovePortfolioLink = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      portfolioLinks: prev.portfolioLinks.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!formData.firstName.trim()) {\r\n      setValidationError('First name is required');\r\n      return;\r\n    }\r\n\r\n    if (!formData.lastName.trim()) {\r\n      setValidationError('Last name is required');\r\n      return;\r\n    }\r\n\r\n    updateProfileMutation.mutate(formData, {\r\n      onSuccess: (data) => {\r\n        console.log('‚úÖ Profile updated successfully:', data);\r\n        setValidationError('');\r\n      },\r\n      onError: (error) => {\r\n        console.error('‚ùå Profile update failed:', error);\r\n        if (error?.response?.data?.errors && Array.isArray(error.response.data.errors)) {\r\n          const errorMessages = error.response.data.errors.map(err => err.msg).join(', ');\r\n          setValidationError(`Validation errors: ${errorMessages}`);\r\n        } else if (error?.response?.data?.message) {\r\n          setValidationError(error.response.data.message);\r\n        } else if (error?.message) {\r\n          setValidationError(error.message);\r\n        } else {\r\n          setValidationError('Failed to update profile. Please try again.');\r\n        }\r\n      },\r\n    });\r\n  };\r\n\r\n  // Authentication check\r\n  if (!isAuthenticated) {\r\n    return (\r\n      <Container maxWidth=\"md\">\r\n        <Box sx={{ mt: 4 }}>\r\n          <Alert severity=\"warning\" sx={{ mb: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom>\r\n              Authentication Required\r\n            </Typography>\r\n            You must be logged in to view your profile.\r\n          </Alert>\r\n          <Button variant=\"contained\" href=\"/login\">\r\n            Go to Login\r\n          </Button>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (profileLoading) {\r\n    return (\r\n      <Container maxWidth=\"md\">\r\n        <Box sx={{ mt: 4, display: 'flex', justifyContent: 'center', alignItems: 'center', minHeight: '300px' }}>\r\n          <CircularProgress />\r\n          <Typography variant=\"h6\" sx={{ ml: 2 }}>\r\n            Loading profile...\r\n          </Typography>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"md\">\r\n      <Box sx={{ mt: 4, mb: 4 }}>\r\n        <Paper elevation={3} sx={{ p: 4 }}>\r\n          <Typography variant=\"h4\" component=\"h1\" gutterBottom align=\"center\">\r\n            Profile Settings\r\n          </Typography>\r\n          <Typography variant=\"body1\" color=\"text.secondary\" align=\"center\" sx={{ mb: 4 }}>\r\n            Manage your profile information and visibility\r\n          </Typography>\r\n          \r\n          {(profileError || updateProfileMutation.error || validationError) && (\r\n            <Alert severity=\"error\" sx={{ mb: 3 }}>\r\n              {profileError?.response?.data?.message || \r\n               profileError?.message || \r\n               updateProfileMutation.error?.response?.data?.message || \r\n               updateProfileMutation.error?.message || \r\n               validationError || \r\n               'An error occurred'}\r\n            </Alert>\r\n          )}\r\n          \r\n          <Box component=\"form\" onSubmit={handleSubmit}>\r\n            <Grid container spacing={3}>\r\n              {/* Basic Information */}\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Basic Information\r\n                </Typography>\r\n              </Grid>\r\n              \r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"First Name\"\r\n                  name=\"firstName\"\r\n                  value={formData.firstName}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"Last Name\"\r\n                  name=\"lastName\"\r\n                  value={formData.lastName}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Bio\"\r\n                  name=\"bio\"\r\n                  multiline\r\n                  rows={4}\r\n                  value={formData.bio}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                  helperText=\"Tell others about yourself and your interests\"\r\n                />\r\n              </Grid>\r\n\r\n              {/* Skills */}\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Skills\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\r\n                  <TextField\r\n                    size=\"small\"\r\n                    placeholder=\"Add a skill (e.g., React, Python)\"\r\n                    value={newSkill}\r\n                    onChange={(e) => setNewSkill(e.target.value)}\r\n                    onKeyPress={(e) => e.key === 'Enter' && (e.preventDefault(), handleAddSkill())}\r\n                    disabled={updateProfileMutation.isPending}\r\n                  />\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    onClick={handleAddSkill}\r\n                    disabled={!newSkill.trim() || updateProfileMutation.isPending}\r\n                    startIcon={<Add />}\r\n                  >\r\n                    Add\r\n                  </Button>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', flexWrap: 'wrap', gap: 1 }}>\r\n                  {formData.skills.map((skill) => (\r\n                    <Chip\r\n                      key={skill}\r\n                      label={skill}\r\n                      onDelete={() => handleRemoveSkill(skill)}\r\n                      deleteIcon={<Delete />}\r\n                    />\r\n                  ))}\r\n                </Box>\r\n              </Grid>\r\n\r\n              {/* Experience and Availability */}\r\n              <Grid item xs={12} sm={6}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Experience Level</InputLabel>\r\n                  <Select\r\n                    name=\"experience\"\r\n                    value={formData.experience}\r\n                    onChange={handleChange}\r\n                    disabled={updateProfileMutation.isPending}\r\n                  >\r\n                    <MenuItem value=\"beginner\">Beginner</MenuItem>\r\n                    <MenuItem value=\"intermediate\">Intermediate</MenuItem>\r\n                    <MenuItem value=\"advanced\">Advanced</MenuItem>\r\n                    <MenuItem value=\"expert\">Expert</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <FormControl fullWidth>\r\n                  <InputLabel>Availability</InputLabel>\r\n                  <Select\r\n                    name=\"availability\"\r\n                    value={formData.availability}\r\n                    onChange={handleChange}\r\n                    disabled={updateProfileMutation.isPending}\r\n                  >\r\n                    <MenuItem value=\"full-time\">Full-time</MenuItem>\r\n                    <MenuItem value=\"part-time\">Part-time</MenuItem>\r\n                    <MenuItem value=\"weekends\">Weekends</MenuItem>\r\n                    <MenuItem value=\"evenings\">Evenings</MenuItem>\r\n                    <MenuItem value=\"flexible\">Flexible</MenuItem>\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n\r\n              {/* Location and Timezone */}\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Location\"\r\n                  name=\"location\"\r\n                  value={formData.location}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                  placeholder=\"City, Country\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Timezone\"\r\n                  name=\"timezone\"\r\n                  value={formData.timezone}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                  placeholder=\"UTC-5, EST, etc.\"\r\n                />\r\n              </Grid>\r\n\r\n              {/* Social Links */}\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Social Links\r\n                </Typography>\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"GitHub\"\r\n                  name=\"socialLinks.github\"\r\n                  value={formData.socialLinks.github}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                  placeholder=\"https://github.com/username\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"LinkedIn\"\r\n                  name=\"socialLinks.linkedin\"\r\n                  value={formData.socialLinks.linkedin}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                  placeholder=\"https://linkedin.com/in/username\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Twitter\"\r\n                  name=\"socialLinks.twitter\"\r\n                  value={formData.socialLinks.twitter}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                  placeholder=\"https://twitter.com/username\"\r\n                />\r\n              </Grid>\r\n\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  fullWidth\r\n                  label=\"Website\"\r\n                  name=\"socialLinks.website\"\r\n                  value={formData.socialLinks.website}\r\n                  onChange={handleChange}\r\n                  disabled={updateProfileMutation.isPending}\r\n                  placeholder=\"https://yourwebsite.com\"\r\n                />\r\n              </Grid>\r\n\r\n              {/* Portfolio Links */}\r\n              <Grid item xs={12}>\r\n                <Typography variant=\"h6\" gutterBottom>\r\n                  Portfolio Links\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', gap: 1, mb: 2 }}>\r\n                  <TextField\r\n                    size=\"small\"\r\n                    placeholder=\"Project name\"\r\n                    value={newPortfolioLink.name}\r\n                    onChange={(e) => setNewPortfolioLink(prev => ({ ...prev, name: e.target.value }))}\r\n                    disabled={updateProfileMutation.isPending}\r\n                  />\r\n                  <TextField\r\n                    size=\"small\"\r\n                    placeholder=\"Project URL\"\r\n                    value={newPortfolioLink.url}\r\n                    onChange={(e) => setNewPortfolioLink(prev => ({ ...prev, url: e.target.value }))}\r\n                    disabled={updateProfileMutation.isPending}\r\n                  />\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    onClick={handleAddPortfolioLink}\r\n                    disabled={!newPortfolioLink.name.trim() || !newPortfolioLink.url.trim() || updateProfileMutation.isPending}\r\n                    startIcon={<Add />}\r\n                  >\r\n                    Add\r\n                  </Button>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', flexDirection: 'column', gap: 1 }}>\r\n                  {formData.portfolioLinks.map((link, index) => (\r\n                    <Box key={index} sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                      <Typography variant=\"body2\" sx={{ flex: 1 }}>\r\n                        {link.name}: {link.url}\r\n                      </Typography>\r\n                      <Button\r\n                        size=\"small\"\r\n                        onClick={() => handleRemovePortfolioLink(index)}\r\n                        startIcon={<Delete />}\r\n                      >\r\n                        Remove\r\n                      </Button>\r\n                    </Box>\r\n                  ))}\r\n                </Box>\r\n              </Grid>\r\n\r\n              {/* Profile Visibility */}\r\n              <Grid item xs={12}>\r\n                <Divider sx={{ my: 2 }} />\r\n                <FormControlLabel\r\n                  control={\r\n                    <Switch\r\n                      checked={formData.isProfilePublic}\r\n                      onChange={(e) => setFormData(prev => ({ ...prev, isProfilePublic: e.target.checked }))}\r\n                      disabled={updateProfileMutation.isPending}\r\n                    />\r\n                  }\r\n                  label=\"Make my profile public (visible to other members)\"\r\n                />\r\n              </Grid>\r\n\r\n              {/* Submit Button */}\r\n              <Grid item xs={12}>\r\n                <Box sx={{ display: 'flex', justifyContent: 'center' }}>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                    size=\"large\"\r\n                    disabled={updateProfileMutation.isPending}\r\n                    startIcon={<Save />}\r\n                  >\r\n                    {updateProfileMutation.isPending ? 'Saving...' : 'Save Profile'}\r\n                  </Button>\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        </Paper>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Profile; ","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\ProjectDetail.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\ProjectList.js","messages":[{"ruleId":"no-unused-vars","severity":1,"message":"'Code' is defined but never used.","line":19,"column":23,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":27}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useState, useEffect, useRef, useMemo } from 'react';\r\nimport { Link as RouterLink } from 'react-router-dom';\r\nimport {\r\n  Container,\r\n  Typography,\r\n  Button,\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  CardActions,\r\n  CardMedia,\r\n  Grid,\r\n  TextField,\r\n  InputAdornment,\r\n  Chip,\r\n  CircularProgress,\r\n  Alert,\r\n} from '@mui/material';\r\nimport { Search, Add, Code, People, CalendarToday } from '@mui/icons-material';\r\nimport { useProjects } from '../hooks/projects';\r\nimport { useAuth } from '../hooks/auth';\r\n\r\nconst ProjectList = () => {\r\n  const { user } = useAuth();\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const projectRefs = useRef({});\r\n\r\n  // TanStack Query hook\r\n  const { \r\n    data: projects = [], \r\n    isLoading, \r\n    error,\r\n    refetch \r\n  } = useProjects();\r\n\r\n  // Scroll to project card if hash is present\r\n  useEffect(() => {\r\n    if (window.location.hash) {\r\n      const id = window.location.hash.replace('#', '');\r\n      setTimeout(() => {\r\n        if (projectRefs.current[id]) {\r\n          projectRefs.current[id].scrollIntoView({ behavior: 'smooth', block: 'center' });\r\n        }\r\n      }, 200); // Wait for render\r\n    }\r\n  }, [projects]);\r\n\r\n  const filteredProjects = useMemo(() => \r\n    projects.filter(project =>\r\n      project.title.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      project.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      (project.technologies && project.technologies.some(tech => \r\n        tech.toLowerCase().includes(searchTerm.toLowerCase())\r\n      ))\r\n    ), [projects, searchTerm]\r\n  );\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}>\r\n          <CircularProgress />\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Container maxWidth=\"lg\">\r\n        <Box sx={{ mt: 4 }}>\r\n          <Alert \r\n            severity=\"error\" \r\n            action={\r\n              <Button color=\"inherit\" size=\"small\" onClick={() => refetch()}>\r\n                Retry\r\n              </Button>\r\n            }\r\n          >\r\n            Failed to load projects: {error.message}\r\n          </Alert>\r\n        </Box>\r\n      </Container>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Container maxWidth=\"lg\">\r\n      <Box sx={{ mt: 4, mb: 4 }}>\r\n        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 4 }}>\r\n          <Typography variant=\"h4\" component=\"h1\">\r\n            Projects\r\n          </Typography>\r\n          <Button\r\n            variant=\"contained\"\r\n            startIcon={<Add />}\r\n            component={RouterLink}\r\n            to=\"/projects/create\"\r\n          >\r\n            Create Project\r\n          </Button>\r\n        </Box>\r\n\r\n        <TextField\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          placeholder=\"Search projects...\"\r\n          value={searchTerm}\r\n          onChange={(e) => setSearchTerm(e.target.value)}\r\n          InputProps={{\r\n            startAdornment: (\r\n              <InputAdornment position=\"start\">\r\n                <Search />\r\n              </InputAdornment>\r\n            ),\r\n          }}\r\n          sx={{ mb: 4 }}\r\n        />\r\n\r\n        <Grid container spacing={3}>\r\n          {filteredProjects.map((project) => (\r\n            <Grid item xs={12} sm={6} md={4} key={project._id} ref={el => projectRefs.current[project._id] = el}>\r\n              <Card>\r\n                {project.image && (\r\n                  <CardMedia\r\n                    component=\"img\"\r\n                    height=\"200\"\r\n                    image={`http://localhost:5000${project.image}`}\r\n                    alt={project.title}\r\n                    sx={{ objectFit: 'cover' }}\r\n                  />\r\n                )}\r\n                <CardContent>\r\n                  <Typography variant=\"h6\" component=\"h2\" gutterBottom>\r\n                    {project.title}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\" sx={{ mb: 2 }}>\r\n                    {project.description}\r\n                  </Typography>\r\n                  <Box sx={{ mb: 2 }}>\r\n                    {project.technologies && project.technologies.map((tech) => (\r\n                      <Chip\r\n                        key={tech}\r\n                        label={tech}\r\n                        size=\"small\"\r\n                        sx={{ mr: 1, mb: 1 }}\r\n                      />\r\n                    ))}\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, color: 'text.secondary' }}>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                      <People sx={{ fontSize: 16, mr: 0.5 }} />\r\n                      <Typography variant=\"body2\">\r\n                        {project.collaborators ? project.collaborators.length : 0}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Box sx={{ display: 'flex', alignItems: 'center' }}>\r\n                      <CalendarToday sx={{ fontSize: 16, mr: 0.5 }} />\r\n                      <Typography variant=\"body2\">\r\n                        {new Date(project.createdAt).toLocaleDateString()}\r\n                      </Typography>\r\n                    </Box>\r\n                  </Box>\r\n                </CardContent>\r\n                <CardActions>\r\n                  <Button size=\"small\" component={RouterLink} to={`/projects/${project._id}`}>\r\n                    View Details\r\n                  </Button>\r\n                  {project.owner && project.owner._id === user?._id && (\r\n                    <Button size=\"small\" component={RouterLink} to={`/projects/${project._id}/edit`}>\r\n                      Edit\r\n                    </Button>\r\n                  )}\r\n                </CardActions>\r\n              </Card>\r\n            </Grid>\r\n          ))}\r\n        </Grid>\r\n\r\n        {filteredProjects.length === 0 && (\r\n          <Box sx={{ textAlign: 'center', mt: 4 }}>\r\n            <Typography variant=\"h6\" color=\"text.secondary\">\r\n              {projects.length === 0 ? 'No projects yet' : 'No projects found'}\r\n            </Typography>\r\n            <Typography variant=\"body2\" color=\"text.secondary\">\r\n              {projects.length === 0 \r\n                ? 'Be the first to create a project!' \r\n                : 'Try adjusting your search terms or create a new project.'\r\n              }\r\n            </Typography>\r\n          </Box>\r\n        )}\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ProjectList; ","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\admin\\AdminDashboard.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\pages\\admin\\UserManagement.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\services\\adminService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\services\\authService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\services\\commentsService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\services\\index.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\services\\projectsService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\services\\usersService.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\utils\\api.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\utils\\logger.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\utils\\performance.js","messages":[{"ruleId":"import/no-anonymous-default-export","severity":1,"message":"Assign object to a variable before exporting as module default","line":138,"column":1,"nodeType":"ExportDefaultDeclaration","endLine":150,"endColumn":3}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// Performance optimization utilities\r\n\r\n// Debounce function for search inputs and other frequent events\r\nexport const debounce = (func, wait) => {\r\n  let timeout;\r\n  return function executedFunction(...args) {\r\n    const later = () => {\r\n      clearTimeout(timeout);\r\n      func(...args);\r\n    };\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n  };\r\n};\r\n\r\n// Throttle function for scroll events and other high-frequency events\r\nexport const throttle = (func, limit) => {\r\n  let inThrottle;\r\n  return function() {\r\n    const args = arguments;\r\n    const context = this;\r\n    if (!inThrottle) {\r\n      func.apply(context, args);\r\n      inThrottle = true;\r\n      setTimeout(() => inThrottle = false, limit);\r\n    }\r\n  };\r\n};\r\n\r\n// Memoization helper for expensive calculations\r\nexport const memoize = (fn) => {\r\n  const cache = new Map();\r\n  return (...args) => {\r\n    const key = JSON.stringify(args);\r\n    if (cache.has(key)) {\r\n      return cache.get(key);\r\n    }\r\n    const result = fn.apply(this, args);\r\n    cache.set(key, result);\r\n    return result;\r\n  };\r\n};\r\n\r\n// Intersection Observer for lazy loading\r\nexport const createIntersectionObserver = (callback, options = {}) => {\r\n  return new IntersectionObserver(callback, {\r\n    root: null,\r\n    rootMargin: '0px',\r\n    threshold: 0.1,\r\n    ...options,\r\n  });\r\n};\r\n\r\n// Preload critical resources\r\nexport const preloadResource = (href, as = 'fetch') => {\r\n  const link = document.createElement('link');\r\n  link.rel = 'preload';\r\n  link.href = href;\r\n  link.as = as;\r\n  document.head.appendChild(link);\r\n};\r\n\r\n// Prefetch non-critical resources\r\nexport const prefetchResource = (href) => {\r\n  const link = document.createElement('link');\r\n  link.rel = 'prefetch';\r\n  link.href = href;\r\n  document.head.appendChild(link);\r\n};\r\n\r\n// Performance monitoring\r\nexport const measurePerformance = (name, fn) => {\r\n  const start = performance.now();\r\n  const result = fn();\r\n  const end = performance.now();\r\n  console.log(`‚è±Ô∏è ${name} took ${end - start}ms`);\r\n  return result;\r\n};\r\n\r\n// Async performance measurement\r\nexport const measureAsyncPerformance = async (name, fn) => {\r\n  const start = performance.now();\r\n  const result = await fn();\r\n  const end = performance.now();\r\n  console.log(`‚è±Ô∏è ${name} took ${end - start}ms`);\r\n  return result;\r\n};\r\n\r\n// Batch DOM updates\r\nexport const batchDOMUpdates = (updates) => {\r\n  return new Promise((resolve) => {\r\n    requestAnimationFrame(() => {\r\n      updates.forEach(update => update());\r\n      resolve();\r\n    });\r\n  });\r\n};\r\n\r\n// Optimize images\r\nexport const optimizeImage = (src, width = 800) => {\r\n  // Add width parameter for responsive images\r\n  return `${src}?w=${width}&q=80`;\r\n};\r\n\r\n// Cache management\r\nexport const cacheManager = {\r\n  cache: new Map(),\r\n  \r\n  set(key, value, ttl = 5 * 60 * 1000) { // 5 minutes default\r\n    this.cache.set(key, {\r\n      value,\r\n      timestamp: Date.now(),\r\n      ttl,\r\n    });\r\n  },\r\n  \r\n  get(key) {\r\n    const item = this.cache.get(key);\r\n    if (!item) return null;\r\n    \r\n    if (Date.now() - item.timestamp > item.ttl) {\r\n      this.cache.delete(key);\r\n      return null;\r\n    }\r\n    \r\n    return item.value;\r\n  },\r\n  \r\n  clear() {\r\n    this.cache.clear();\r\n  },\r\n  \r\n  size() {\r\n    return this.cache.size;\r\n  },\r\n};\r\n\r\nexport default {\r\n  debounce,\r\n  throttle,\r\n  memoize,\r\n  createIntersectionObserver,\r\n  preloadResource,\r\n  prefetchResource,\r\n  measurePerformance,\r\n  measureAsyncPerformance,\r\n  batchDOMUpdates,\r\n  optimizeImage,\r\n  cacheManager,\r\n};\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\utils\\sanitize.js","messages":[{"ruleId":"no-script-url","severity":1,"message":"Script URL is a form of eval.","line":53,"column":31,"nodeType":"Literal","messageId":"unexpectedScriptURL","endLine":53,"endColumn":44},{"ruleId":"import/no-anonymous-default-export","severity":1,"message":"Assign object to a variable before exporting as module default","line":91,"column":1,"nodeType":"ExportDefaultDeclaration","endLine":96,"endColumn":3}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Client-side input sanitization utility\r\n * Provides XSS protection for user-generated content\r\n */\r\n\r\n/**\r\n * Sanitize HTML content to prevent XSS attacks\r\n * Removes potentially dangerous HTML tags and attributes\r\n * @param {string} html - HTML string to sanitize\r\n * @returns {string} - Sanitized HTML string\r\n */\r\nexport const sanitizeHTML = (html) => {\r\n  if (!html || typeof html !== 'string') {\r\n    return '';\r\n  }\r\n\r\n  // Create a temporary div element\r\n  const tempDiv = document.createElement('div');\r\n  tempDiv.textContent = html;\r\n  \r\n  // Return the text content (strips all HTML)\r\n  return tempDiv.innerHTML;\r\n};\r\n\r\n/**\r\n * Sanitize text input (removes HTML tags)\r\n * @param {string} text - Text to sanitize\r\n * @returns {string} - Sanitized text\r\n */\r\nexport const sanitizeText = (text) => {\r\n  if (!text || typeof text !== 'string') {\r\n    return '';\r\n  }\r\n\r\n  // Remove HTML tags\r\n  return text.replace(/<[^>]*>/g, '');\r\n};\r\n\r\n/**\r\n * Sanitize URL to prevent javascript: and data: protocols\r\n * @param {string} url - URL to sanitize\r\n * @returns {string} - Sanitized URL or empty string if invalid\r\n */\r\nexport const sanitizeURL = (url) => {\r\n  if (!url || typeof url !== 'string') {\r\n    return '';\r\n  }\r\n\r\n  // Remove whitespace\r\n  const trimmed = url.trim();\r\n\r\n  // Check for dangerous protocols\r\n  const dangerousProtocols = ['javascript:', 'data:', 'vbscript:', 'file:'];\r\n  const lowerUrl = trimmed.toLowerCase();\r\n  \r\n  for (const protocol of dangerousProtocols) {\r\n    if (lowerUrl.startsWith(protocol)) {\r\n      return '';\r\n    }\r\n  }\r\n\r\n  // Only allow http, https, and relative URLs\r\n  if (!trimmed.match(/^(https?:\\/\\/|\\/)/i)) {\r\n    return '';\r\n  }\r\n\r\n  return trimmed;\r\n};\r\n\r\n/**\r\n * Escape special characters for use in HTML\r\n * @param {string} text - Text to escape\r\n * @returns {string} - Escaped text\r\n */\r\nexport const escapeHTML = (text) => {\r\n  if (!text || typeof text !== 'string') {\r\n    return '';\r\n  }\r\n\r\n  const map = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#039;'\r\n  };\r\n\r\n  return text.replace(/[&<>\"']/g, (char) => map[char]);\r\n};\r\n\r\nexport default {\r\n  sanitizeHTML,\r\n  sanitizeText,\r\n  sanitizeURL,\r\n  escapeHTML\r\n};\r\n\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\utils\\tokenEncryption.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]},{"filePath":"C:\\CCProj\\CodeCollabProj\\client\\src\\utils\\validation.js","messages":[{"ruleId":"no-useless-escape","severity":1,"message":"Unnecessary escape character: \\[.","line":47,"column":25,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":47,"endColumn":26,"suggestions":[{"messageId":"removeEscape","fix":{"range":[1266,1267],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[1266,1266],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"no-useless-escape","severity":1,"message":"Unnecessary escape character: \\/.","line":47,"column":42,"nodeType":"Literal","messageId":"unnecessaryEscape","endLine":47,"endColumn":43,"suggestions":[{"messageId":"removeEscape","fix":{"range":[1283,1284],"text":""},"desc":"Remove the `\\`. This maintains the current functionality."},{"messageId":"escapeBackslash","fix":{"range":[1283,1283],"text":"\\"},"desc":"Replace the `\\` with `\\\\` to include the actual backslash character."}]},{"ruleId":"import/no-anonymous-default-export","severity":1,"message":"Assign object to a variable before exporting as module default","line":189,"column":1,"nodeType":"ExportDefaultDeclaration","endLine":195,"endColumn":3}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"/**\r\n * Shared validation utility functions\r\n * Provides consistent validation across the application\r\n */\r\n\r\n/**\r\n * Validate email format\r\n * @param {string} email - Email to validate\r\n * @returns {boolean} - True if valid\r\n */\r\nexport const isValidEmail = (email) => {\r\n  if (!email || typeof email !== 'string') {\r\n    return false;\r\n  }\r\n  const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n  return emailRegex.test(email.trim());\r\n};\r\n\r\n/**\r\n * Validate password strength\r\n * @param {string} password - Password to validate\r\n * @returns {Object} - { isValid: boolean, errors: string[] }\r\n */\r\nexport const validatePassword = (password) => {\r\n  const errors = [];\r\n  \r\n  if (!password || typeof password !== 'string') {\r\n    return { isValid: false, errors: ['Password is required'] };\r\n  }\r\n  \r\n  if (password.length < 8) {\r\n    errors.push('Password must be at least 8 characters long');\r\n  }\r\n  \r\n  if (!/[A-Z]/.test(password)) {\r\n    errors.push('Password must contain at least one uppercase letter');\r\n  }\r\n  \r\n  if (!/[a-z]/.test(password)) {\r\n    errors.push('Password must contain at least one lowercase letter');\r\n  }\r\n  \r\n  if (!/[0-9]/.test(password)) {\r\n    errors.push('Password must contain at least one number');\r\n  }\r\n  \r\n  if (!/[!@#$%^&*()_+\\-=\\[\\]{};':\"\\\\|,.<>\\/?]/.test(password)) {\r\n    errors.push('Password must contain at least one special character');\r\n  }\r\n  \r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors\r\n  };\r\n};\r\n\r\n/**\r\n * Validate username\r\n * @param {string} username - Username to validate\r\n * @returns {Object} - { isValid: boolean, errors: string[] }\r\n */\r\nexport const validateUsername = (username) => {\r\n  const errors = [];\r\n  \r\n  if (!username || typeof username !== 'string') {\r\n    return { isValid: false, errors: ['Username is required'] };\r\n  }\r\n  \r\n  const trimmed = username.trim();\r\n  \r\n  if (trimmed.length < 3) {\r\n    errors.push('Username must be at least 3 characters long');\r\n  }\r\n  \r\n  if (trimmed.length > 30) {\r\n    errors.push('Username must not exceed 30 characters');\r\n  }\r\n  \r\n  if (!/^[a-zA-Z0-9_]+$/.test(trimmed)) {\r\n    errors.push('Username can only contain letters, numbers, and underscores');\r\n  }\r\n  \r\n  return {\r\n    isValid: errors.length === 0,\r\n    errors\r\n  };\r\n};\r\n\r\n/**\r\n * Validate URL format\r\n * @param {string} url - URL to validate\r\n * @returns {boolean} - True if valid\r\n */\r\nexport const isValidURL = (url) => {\r\n  if (!url || typeof url !== 'string') {\r\n    return false;\r\n  }\r\n  \r\n  try {\r\n    const urlObj = new URL(url);\r\n    return urlObj.protocol === 'http:' || urlObj.protocol === 'https:';\r\n  } catch {\r\n    return false;\r\n  }\r\n};\r\n\r\n/**\r\n * Validate form data object\r\n * @param {Object} formData - Form data to validate\r\n * @param {Object} rules - Validation rules\r\n * @returns {Object} - { isValid: boolean, errors: Object }\r\n */\r\nexport const validateForm = (formData, rules) => {\r\n  const errors = {};\r\n  \r\n  Object.keys(rules).forEach((field) => {\r\n    const rule = rules[field];\r\n    const value = formData[field];\r\n    \r\n    // Required check\r\n    if (rule.required && (!value || (typeof value === 'string' && !value.trim()))) {\r\n      errors[field] = rule.requiredMessage || `${field} is required`;\r\n      return;\r\n    }\r\n    \r\n    // Skip other validations if field is empty and not required\r\n    if (!value || (typeof value === 'string' && !value.trim())) {\r\n      return;\r\n    }\r\n    \r\n    // Email validation\r\n    if (rule.type === 'email' && !isValidEmail(value)) {\r\n      errors[field] = rule.message || 'Invalid email format';\r\n      return;\r\n    }\r\n    \r\n    // Password validation\r\n    if (rule.type === 'password') {\r\n      const passwordValidation = validatePassword(value);\r\n      if (!passwordValidation.isValid) {\r\n        errors[field] = passwordValidation.errors[0] || 'Invalid password';\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // Username validation\r\n    if (rule.type === 'username') {\r\n      const usernameValidation = validateUsername(value);\r\n      if (!usernameValidation.isValid) {\r\n        errors[field] = usernameValidation.errors[0] || 'Invalid username';\r\n        return;\r\n      }\r\n    }\r\n    \r\n    // URL validation\r\n    if (rule.type === 'url' && !isValidURL(value)) {\r\n      errors[field] = rule.message || 'Invalid URL format';\r\n      return;\r\n    }\r\n    \r\n    // Min length\r\n    if (rule.minLength && value.length < rule.minLength) {\r\n      errors[field] = rule.message || `${field} must be at least ${rule.minLength} characters`;\r\n      return;\r\n    }\r\n    \r\n    // Max length\r\n    if (rule.maxLength && value.length > rule.maxLength) {\r\n      errors[field] = rule.message || `${field} must not exceed ${rule.maxLength} characters`;\r\n      return;\r\n    }\r\n    \r\n    // Custom validator\r\n    if (rule.validator && typeof rule.validator === 'function') {\r\n      const customError = rule.validator(value, formData);\r\n      if (customError) {\r\n        errors[field] = customError;\r\n        return;\r\n      }\r\n    }\r\n  });\r\n  \r\n  return {\r\n    isValid: Object.keys(errors).length === 0,\r\n    errors\r\n  };\r\n};\r\n\r\nexport default {\r\n  isValidEmail,\r\n  validatePassword,\r\n  validateUsername,\r\n  isValidURL,\r\n  validateForm\r\n};\r\n\r\n","usedDeprecatedRules":[{"ruleId":"dot-location","replacedBy":[]},{"ruleId":"new-parens","replacedBy":[]},{"ruleId":"no-mixed-operators","replacedBy":[]},{"ruleId":"no-new-object","replacedBy":["no-object-constructor"]},{"ruleId":"no-whitespace-before-property","replacedBy":[]},{"ruleId":"rest-spread-spacing","replacedBy":[]}]}]
